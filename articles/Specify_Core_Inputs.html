<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="devMSMs">
<title>Specify Core Inputs • devMSMs</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Specify Core Inputs">
<meta property="og:description" content="devMSMs">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">devMSMs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Dev.html">Dev</a>
    <a class="dropdown-item" href="../articles/Terminology.html">Terminology</a>
    <a class="dropdown-item" href="../articles/Data_Requirements.html">Data Requirements &amp; Preparation</a>
    <a class="dropdown-item" href="../articles/Specify_Core_Inputs.html">Specify Core Inputs</a>
    <a class="dropdown-item" href="../articles/Workflow_Continuous_Exposure.html">Workflow: Continuous Exposure</a>
    <a class="dropdown-item" href="../articles/Customize_Balancing_Formulas.html">Customize Balancing Formulas</a>
    <a class="dropdown-item" href="../articles/Assessing_Balance_Tv.html">Assessing Balance for Time-Varying Exposures</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/istallworthy/devMSMs/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Specify Core Inputs</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/istallworthy/devMSMs/blob/HEAD/vignettes/Specify_Core_Inputs.qmd" class="external-link"><code>vignettes/Specify_Core_Inputs.qmd</code></a></small>
      <div class="d-none name"><code>Specify_Core_Inputs.qmd</code></div>
    </div>

    
    
<p><br></p>
<p>This vignette guides users through the specification of the core
inputs required by the <em>deMSMs</em> functions (and helper functions).
Users should first view the
<a href="https://istallworthy.github.io/devMSMs/articles/Terminology.html">Terminology</a>
and
<a href="https://istallworthy.github.io/devMSMs/articles/Data_Requirements.html">Data
Requirements</a> vignettes. This vignette helps users specify core
inputs (e.g., home directory, exposure, time-varying confounders, time
invariant confounders, outcome, reference, comparison, high/low cutoff
for continuous exposure, and balance threshold) that are used by
multiple functions in the <em>devMSMs</em> package (see
<em>Workflows</em> vignettes). Their use and values should be kept
consistent throughout the package. Additionally, all functions have two
optional inputs allowing the user to override defaults to suppress all
messaging to the console (<code>verbose = FALSE</code>) and elect not to
save out locally any intermediate and final output
(<code>save.out = FALSE</code>).</p>
<p>Following completion of this vignette, the user should complete a
<em>Workflow</em> vignette to implement <em>devMSMs</em> with their
longitudinal data. Many of these core inputs will be specified at the
beginning of the workflow in the MSM object.</p>
<p>The code contained in this vignette is also available, integrated
code from the other vignettes, in the
<a href="https://github.com/istallworthy/devMSMs/blob/main/ExampleWorkflow.Rmd" class="external-link">ExampleWorkflow.rmd
file</a>.</p>
<p><br></p>
<div class="section level2">
<h2 id="recommended-home-directory">Recommended: Home Directory<a class="anchor" aria-label="anchor" href="#recommended-home-directory"></a>
</h2>
<p>Users are required to specify home directory, or in quotations, a
path to a designated folder for all output from the package (without the
final forward slash), if they plan to save out intermediary and final
outputs in the package (default) by setting <code>save.out = TRUE</code>
for any of the functions. All sub directories will be created within
this home directory by the <em>devMSMs</em> functions automatically when
<code>save.out’ = TRUE</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">home_dir</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span></span>
<span><span class="co"># home_dir &lt;- '/Users/isabella/Library/CloudStorage/Box-Box/BSL General/MSMs/testing/isa'</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="recommended-time-point-delimiter">Recommended: Time Point Delimiter<a class="anchor" aria-label="anchor" href="#recommended-time-point-delimiter"></a>
</h2>
<p>Users are required to use a consistent delimiter for parsing the
names of their time-varying variables (i.e., exposure, time-varying
confounders, outcome) into the name of the construct and the time point
at which it was measured. The default is a period but the user can
specify any delimiter. <em>devMSMs</em> will assume the integer after
the final instance of the delimiter wihin the variable name corresponds
to the time point at which it was measured. The same delimiter shoudl be
used for all time-varying variables.</p>
<p>Users can specify a different delimiter as a character string in
regular expression (regex) form.</p>
<p>Below, we use the default period as a time delimiter.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">sep</span> <span class="op">&lt;-</span> <span class="st">"\\."</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="required-exposure-variable">Required: Exposure Variable<a class="anchor" aria-label="anchor" href="#required-exposure-variable"></a>
</h2>
<p>The exposure refers to the developmental construct that is
hypothesized to cause the outcome. Users are required to specify an
exposure variable for use in all functions in <em>devMSMs</em>. The
exposure can be either continuously distributed or binary, which the
package automatically detects. The user must specify exposure, or a list
of character strings corresponding to the exposure variable in wide
format, as it appears in your dataset. The time at which the exposure
was measured should appear as a suffix with a delimiter of the user’s
choosing (that should be the same for time-varying confounders).</p>
<p>The user has two options when specifying the exposure variablee, and
should select the option that best serves their theory regarding
developmental timing and the practical constraints of their data and the
modeling process.</p>
<p>First, they may specify exposure at all time points at which the
exposure was measured in their data. This means that balancing formulas
will be created (Steps 1a, 2a, 3b in the <em>Workflows</em> vignettes)
and IPTW weights will be created (Steps 2b, 3c in the <em>Workflows</em>
vignettes) and assessed (Steps 2c, 3a, 4 in the <em>Workflows</em>
vignettes) for all time points. In this case, if no epochs are
specified, all time points will be included as exposure main effects in
the final substantive model and history comparison (Step 5 in the
<em>Workflows</em> vignettes).</p>
<p>Second, they may specify a subset of theoretically important time
points at which the exposure was measured in their data. This means that
balancing formulas will be created and IPTW weights will be created and
assessed for only those time points. Further, if no epochs are
specified, only those subsetted time points will be included as exposure
main effects in the final substantive models. Importantly, exposure
variables at time point not included in <code>exposure</code> should be
included as time-varying confounders, to be used for balancing purposes
only.</p>
<p>The specification of exposure epochs should be kept consistent
throughout the use of the <em>devMSMs</em> package. If the user intends
to specify exposure epochs, the user should include all time points
encompassed in the epochs in. If the user does not intend to specify
exposure epochs, the <code>exposure</code> will constitute the exposure
main effects in the final outcome model and form the basis of the
histories used for history comparison. In this case, if the user
specifies more than 4 exposure time points, they will be required to
conduct only a subset of history comparisons (Step 5b in the
<em>Workflows</em> vignettes), given that the base code (see the
<code>hypotheses()</code> function from the <em>marginaleffects</em>
package) cannot accommodate all pairwise history comparisons for more
than 5 time points.</p>
<p>For this example, we elected to create epochs of infancy (6 and 15
months), toddlerhood (24 and 35 months), and early childhood (58 months)
so we include all exposure time points.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">exposure</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ESETA1.6"</span>, <span class="st">"ESETA1.15"</span>, <span class="st">"ESETA1.24"</span>, <span class="st">"ESETA1.35"</span>, <span class="st">"ESETA1.58"</span><span class="op">)</span> </span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="required-for-continuous-exposure-high-and-low-cutoff-values">Required for Continuous Exposure: High and Low Cutoff Values<a class="anchor" aria-label="anchor" href="#required-for-continuous-exposure-high-and-low-cutoff-values"></a>
</h2>
<p>If your exposure variable is continuously distributed (e.g., economic
strain), there is not inherent demarcation of what is considered high
versus low levels of exposure. Given that part of the MSM process
involved examining how different exposure histories –that vary in dose
and timing – over development result in different outcome levels, we
need to specify what is considered high versus low levels of exposure.
For continuous exposures, this is required for the recommended
preliminary step from <em>Workflows</em> vignette and the
<code><a href="../reference/compareHistories.html">compareHistories()</a></code>) <em>devMSMs</em> function (see
<em>Workflows</em> vignettes).</p>
<p>We specify to <code>hi_lo_cut</code>, a list of two quantile values
(0-1): the first represents the value above which is considered high
levels exposure and the second represents the followed below which is
considered low levels of exposure. These values may have to be revised
following inspection of the sample distribution across the resulting
exposure histories in the recommended preliminary steps of the
<em>Workflows</em> vignettes. These final values will be used in
creating and modeling the effects of exposure histories in Step 5 of the
<em>Workflows</em> vignettes.</p>
<p>Below, we specify the 60th and 30th percentiles to demarcate high and
low levels of economic strain exposure, respectively.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">hi_lo_cut</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.6</span>, <span class="fl">0.3</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="optional-exposure-epochs">Optional: Exposure Epochs<a class="anchor" aria-label="anchor" href="#optional-exposure-epochs"></a>
</h2>
<p>When modeling the effect of exposure on outcome in the MSM process,
the user has the option to specify epochs of exposure, grouping the time
points at which the exposure into more meaningful categories. This may
be useful in cases when the user wishes to establish balance using all
time points at which exposure was measured, but has substantive
hypotheses at coarser timescales (e.g., infancy). If no epochs are
specified, the time points at which exposure was measured will be used
in the creation of exposure histories in the final step of the process.
Each specified epoch must have a corresponding value (but the values can
differ in number of entries as shown below).</p>
<p>To specify epochs, users utilize the optional <code>epoch</code>
argument by providing, as a character string, a list of user-created
epoch labels, one for each exposure time point in the order in which
they are listed in <code>exposure</code>. If the user specifies exposure
epochs, exposure main effects are created for each epoch, and exposure
levels are averaged for any epochs that consist of two or more time
point values.</p>
<p>The exposure epochs will be arguments in the <code><a href="../reference/fitModel.html">fitModel()</a></code>
and <code><a href="../reference/compareHistories.html">compareHistories()</a></code> <em>devMSMs</em> functions (see
<em>Workflows</em> vignettes) and their specification should be kept
consistent throughout use of the package and its vignettes. They will
constitute the main effects variables when modeling the relation between
exposure and outcome (<em>Workflows</em> vignettes Step 5a) and form the
basis for estimating and comparing exposure histories
(<em>Workflows</em> vignettes Step 5b). If no epochs are specified, the
exposure time points from the <code>exposure</code> field will be used
at the aforementioned steps.</p>
<p>Below, we specify ‘infancy’ (“ESETA1.6”, “ESETA1.15), ‘toddlerhood’
(”ESETA1.24”, “ESETA1.35”), and ‘childhood’ (“ESETA1.58”).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">epoch</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Infancy"</span>, <span class="st">"Infancy"</span>, <span class="st">"Toddlerhood"</span>, <span class="st">"Toddlerhood"</span>, <span class="st">"Childhood"</span><span class="op">)</span> </span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="recommended-hypotheses-relevant-exposure-histories">Recommended: Hypotheses-Relevant Exposure Histories<a class="anchor" aria-label="anchor" href="#recommended-hypotheses-relevant-exposure-histories"></a>
</h2>
<p>We strongly recommend users be selective about which histories, or
developmental sequences of high and low exposure (at exposure time
points or epochs), are vital for testing their hypotheses. We recommend
that the user estimates and compares only a subset of all possible
exposure histories using the <code>reference</code> and
<code>comparison</code> fields (rather than comparing all possible
exposure histories). The user can specify a custom subset of exposure
histories using the <code>reference</code> and <code>comparison</code>
fields as optional inputs to the <code><a href="../reference/compareHistories.html">compareHistories()</a></code>
<em>devMSMs</em> function (see <em>Workflows</em> vignettes). To conduct
these customized comparisons, users must provide at least one unique
valid history (e.g., “l-l-l”) as a reference by providing a character
string (or a list of strings) of lowercase l’s and h’s (each separated
by -), each corresponding to each exposure epoch (or exposure time
point), that signify the sequence of exposure levels (“low” or “high”,
respectively).</p>
<p>If you supply a reference history, in comparisons provide at least
one unique and valid history for comparison by, in quotations, providing
a string (or list of strings) of l’s and h’s (each separated by “-”),
with each corresponding to each exposure epoch, that signify the
sequence of exposure levels (“low” or “high”, respectively) that
constitutes the comparison exposure history/histories to be compared to
the reference in Step 5b of the <em>Workflows</em> vignettes. If you
supply one or more comparisons, at least one reference must be
specified. Each reference exposure history will be compared to each
comparison history and all comparisons will be supplied for multiple
comparison correction. If no reference or comparison is specified, all
histories will be compared to each other in Step 5b of the
<em>Workflows</em> vignettes. However, if there are more than 4 exposure
main effects (either as epochs or exposure time points), the user is
required to select a subset of history comparisons (Step 5b of the
<em>Workflows</em> vignettes), given that the base code (see the
<code>hypotheses()</code> function from the <em>marginaleffects</em>
package) cannot accommodate all pairwise history comparisons for more
than 5 time points).</p>
<p>These final reference and comparison values established at this step
should be used for estimating and comparing exposure histories in Step
5b of the <em>Workflows</em> vignettes.</p>
<p>Below, we specify low economic strain at all epochs (“l-l-l”) as our
reference event in comparison to high levels at all epochs (“h-h-h”) as
well as all histories that contain 1 dose of exposure to high economic
strain at different epochs.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">reference</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"l-l-l"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">comparison</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"h-h-h"</span>, </span>
<span>                <span class="st">"l-l-h"</span>, </span>
<span>                <span class="st">"h-l-l"</span>, </span>
<span>                <span class="st">"l-h-l"</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="required-outcome-variable">Required: Outcome Variable<a class="anchor" aria-label="anchor" href="#required-outcome-variable"></a>
</h2>
<p>The outcome refers to the developmental construct that is
hypothesized to be caused by the exposure. Users are also required to
specify an outcome variable at a designated final time point, as
required input to the <code><a href="../reference/fitModel.html">fitModel()</a></code> and
<code><a href="../reference/compareHistories.html">compareHistories()</a></code> functions in the <em>devMSMs</em>
package. This final time point should be equal to (or, ideally greater
than) the final exposure time point. Note that instances of the outcome
variable measured at any prior time points should be included as
time-varying confounders for balancing purposes. Users must specify an
outcome, as a character string with a suffix of time point at which it
was collected, corresponding to the variable name in the wide data. Any
outcome variables measured at prior time points should be included as
time-varying confounders.</p>
<p>For this example, we specify behavior problems measured at 58 months
as the outcome.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">outcome</span> <span class="op">&lt;-</span> <span class="st">"StrDif_Tot.58"</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level2">
<h2 id="recommended-confounders">Recommended: Confounders<a class="anchor" aria-label="anchor" href="#recommended-confounders"></a>
</h2>
<p>Specifying confounders is critical to the successful implmentation of
MSMs. Confounders refer to variables that could cause either or both
exposure and outcome, and thus could cause a spurious relation between
exposure and outcome. MSMs assume that all possible confounders are
measured.</p>
<div class="section level3">
<h3 id="recommended-time-invariant-confounders">Recommended: Time Invariant Confounders<a class="anchor" aria-label="anchor" href="#recommended-time-invariant-confounders"></a>
</h3>
<p>Time invariant confounders are those that are considered to be stable
across the developmental period you are studying. Specifying time
invariant confounders in <code>ti_conf</code> is recommended in the use
of this package as input for the <code><a href="../reference/createFormulas.html">createFormulas()</a></code> function
in <em>devMSMS</em>. Time invariant confounders could include core
demographic or birth characteristics (e.g., sex, racial group
membership, birth complications) that might cause either the exposure or
outcome, either directly or as a proxy, as suggested by theory and/or
evidenced by strong associations in the existing literature.</p>
<p>If the user wishes to specify any interactions, they need to manually
create them in the data before listing them here. Here, the user can
also include any interaction terms between time invariant variables
(e.g., “variable:variable”) for inclusion in the balancing formula. Keep
in mind that any interactions that include factor variables will be
decomposed into interactions at each factor level.</p>
<p>For <code>ti_conf</code>, as a list of character strings, provide the
names of all confounders in your dataset that are time invariant. These
should not have a time suffix. Below, we specify 18 time invariant
confounders that were measured at the baseline study visit, prior to the
first exposure time point.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">ti_conf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span> <span class="st">"state"</span>, <span class="st">"BioDadInHH2"</span>, <span class="st">"PmAge2"</span>, <span class="st">"PmBlac2"</span>, <span class="st">"TcBlac2"</span>, <span class="st">"PmMrSt2"</span>, <span class="st">"PmEd2"</span>, <span class="st">"KFASTScr"</span>,</span>
<span>  <span class="st">"RMomAgeU"</span>, <span class="st">"RHealth"</span>, <span class="st">"HomeOwnd"</span>, <span class="st">"SWghtLB"</span>, <span class="st">"SurpPreg"</span>, <span class="st">"SmokTotl"</span>, <span class="st">"DrnkFreq"</span>,</span>
<span>  <span class="st">"peri_health"</span>, <span class="st">"caregiv_health"</span>, <span class="st">"gov_assist"</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
</div>
<div class="section level3">
<h3 id="recommended-time-varying-confounders">Recommended: Time-varying Confounders<a class="anchor" aria-label="anchor" href="#recommended-time-varying-confounders"></a>
</h3>
<p>Time-varying confounders are those that are considered to vary over
development, regardless of how many times they are measured in your
dataset. Specifying time-varying confounders is recommended for the use
of this package as input for the <code><a href="../reference/createFormulas.html">createFormulas()</a></code>
<em>devMSMs</em> function (see <em>Workflows</em> vignettes). In
<code>tv_conf</code>, as a list of character strings, provide the names
of all variables in wide format (e.g., “variable.t”) in your dataset
that are time-varying, including any exposure and outcome variables not
specified in their respective fields (see above). They should have a
time suffix following a delimiter.</p>
<p>Note that time-varying confounders should also include any
confounders measured repeatedly at all time points (e.g., InRatioCor) or
any collected only at one or several specific time points, and missing
at other time points, but are not time invariant. Additionally, note
that the user does not specify exposure time points to
<code>tv_conf</code>, as lagged values of exposure will be automatically
included as time-varying confounders in the creation of formulas.</p>
<p>If the user wishes to specify any interactions, they need to manually
create them in the data before listing them here. Here, the user can
also include any interaction terms between time invariant variables
(e.g., “variable:variable”) for inclusion in the balancing formula. Keep
in mind that any interactions that include factor variables will be
decomposed into interactions at each factor level.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">tv_conf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SAAmylase.6"</span>, <span class="st">"SAAmylase.15"</span>, <span class="st">"SAAmylase.24"</span>,</span>
<span>  <span class="st">"MDI.6"</span>, <span class="st">"MDI.15"</span>,</span>
<span>  <span class="st">"RHasSO.6"</span>, <span class="st">"RHasSO.15"</span>, <span class="st">"RHasSO.24"</span>, <span class="st">"RHasSO.35"</span>, <span class="st">"RHasSO.58"</span>,</span>
<span>  <span class="st">"WndNbrhood.6"</span>, <span class="st">"WndNbrhood.24"</span>, <span class="st">"WndNbrhood.35"</span>, <span class="st">"WndNbrhood.58"</span>,</span>
<span>  <span class="st">"IBRAttn.6"</span>, <span class="st">"IBRAttn.15"</span>, <span class="st">"IBRAttn.24"</span>,</span>
<span>  <span class="st">"B18Raw.6"</span>, <span class="st">"B18Raw.15"</span>, <span class="st">"B18Raw.24"</span>, <span class="st">"B18Raw.58"</span>,</span>
<span>  <span class="st">"HOMEETA1.6"</span>, <span class="st">"HOMEETA1.15"</span>, <span class="st">"HOMEETA1.24"</span>, <span class="st">"HOMEETA1.35"</span>, <span class="st">"HOMEETA1.58"</span>,</span>
<span>  <span class="st">"InRatioCor.6"</span>, <span class="st">"InRatioCor.15"</span>, <span class="st">"InRatioCor.24"</span>, <span class="st">"InRatioCor.35"</span>, <span class="st">"InRatioCor.58"</span>,</span>
<span>  <span class="st">"CORTB.6"</span>, <span class="st">"CORTB.15"</span>, <span class="st">"CORTB.24"</span>,</span>
<span>  <span class="st">"EARS_TJo.24"</span>, <span class="st">"EARS_TJo.35"</span>,</span>
<span>  <span class="st">"LESMnPos.24"</span>, <span class="st">"LESMnPos.35"</span>,</span>
<span>  <span class="st">"LESMnNeg.24"</span>, <span class="st">"LESMnNeg.35"</span>,</span>
<span>  <span class="st">"StrDif_Tot.35"</span>, </span>
<span>  <span class="st">"fscore.35"</span>, <span class="st">"fscore.58"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="optional-concurrent-confounders">Optional: Concurrent Confounders<a class="anchor" aria-label="anchor" href="#optional-concurrent-confounders"></a>
</h3>
<p>When creating balancing formula at each exposure time point, the
default of <em>devMSMs</em> is to only include time-varying confounders
measured before the exposure time point. This is because it is often
difficult to differentiate confounders measured contemporaneously from
mediators, and balancing on a mediator is ill-advised. However,
sometimes a user may have good evidence to know that a given
time-varying confounder is not a mediator of exposure even when measured
contemporaneously. If this is the case, they may specify to override the
package default an retain a given variable/set of time-varying
confoudners in the formulas of the exposure measured
contemporaneously.</p>
<p>For <code>concur_conf</code>: as a list of character strings, provide
the names of any time-varying confounders (in wide format) that you wish
to be included contemporaneously in the balancing formulas (overriding
the default which is to only include lagged confounders).</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">concur_conf</span> <span class="op">&lt;-</span> <span class="st">"B18Raw.6"</span></span></code></pre></div>
<p><br></p>
<p>The user can now proceed to the <em>Data Requirements</em> or
<em>Workflows</em> vignettes.</p>
</div>
<div class="section level3">
<h3 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<p>Arel-Bundock, Vincent. 2023. marginaleffects: Predictions,
Comparisons, Slopes, Marginal Means, and Hypothesis Tests. <a href="https://CRAN.R-project.org/package=marginaleffects" class="external-link uri">https://CRAN.R-project.org/package=marginaleffects</a>.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Isabella Stallworthy, Noah Greifer, Meriah DeJoseph, Emily Padrutt, Daniel Berry.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
