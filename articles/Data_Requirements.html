<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="devMSMs">
<title>Data Requirements &amp; Preparation • devMSMs</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data Requirements &amp; Preparation">
<meta property="og:description" content="devMSMs">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">devMSMs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Dev.html">Dev</a>
    <a class="dropdown-item" href="../articles/Terminology.html">Terminology</a>
    <a class="dropdown-item" href="../articles/Data_Requirements.html">Data Requirements &amp; Preparation</a>
    <a class="dropdown-item" href="../articles/Specify_Core_Inputs.html">Specify Core Inputs</a>
    <a class="dropdown-item" href="../articles/Workflow_Continuous_Exposure.html">Workflow: Continuous Exposure</a>
    <a class="dropdown-item" href="../articles/Customize_Balancing_Formulas.html">Customize Balancing Formulas</a>
    <a class="dropdown-item" href="../articles/Assessing_Balance_Tv.html">Assessing Balance for Time-Varying Exposures</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/istallworthy/devMSMs/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Data Requirements &amp; Preparation</h1>
            
            <h4 data-toc-skip class="date">2024-07-01</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/istallworthy/devMSMs/blob/HEAD/vignettes/Data_Requirements.qmd" class="external-link"><code>vignettes/Data_Requirements.qmd</code></a></small>
      <div class="d-none name"><code>Data_Requirements.qmd</code></div>
    </div>

    
    
<p><br></p>
<p>This vignette is designed to aid users in preparing their data for
use with <em>devMSMs</em>. Users should first view the
<a href="https://istallworthy.github.io/devMSMs/articles/Terminology.html">Terminology</a>
and href=“<a href="https://istallworthy.github.io/devMSMs/articles/Specify_Core_Inputs.html%22%5C" class="uri">https://istallworthy.github.io/devMSMs/articles/Specify_Core_Inputs.html"\</a>&gt;Specifying
Core Inputs vignettes.</p>
<p>The code contained in this vignette is also available, integrated
code from the other vignettes, in the
<a href="https://github.com/istallworthy/devMSMs/blob/main/ExampleWorkflow.Rmd" class="external-link">ExampleWorkflow.rmd
file</a>.</p>
<div class="section level2">
<h2 id="data-requirements">Data Requirements<a class="anchor" aria-label="anchor" href="#data-requirements"></a>
</h2>
<p>We recommend considering several data requirements prior to using
<em>devMSMs</em> and any of the vignettes.</p>
<p>MSMs are most useful for strengthening causal inference using
longitudinal data that include an exposure and confounders that vary in
time prior to an outcome. At a minimum, <em>devMSMs</em> requires two
time point data with an exposure measured at least once and an outcome
measured at the second time point, and at least one confounder. The
exposure can be binary (with integer class) or continuous (with numeric
class), and there are no assumptions about the distributions of outcome
or confounders. We highly recommend using continuous variables when
appropriate and possible to avoid the information loss inherent to
binarizing a continuous variable. Although there is no gold standard
recommendation, we suggest users select exposures that have some
within-person variation from which it would be reasonable to delineate
different histories of “high” and “low” levels and avoid
extrapolation.</p>
<p>The outcome time point must be the last time point when exposure was
measured or a time point after the last exposure measurement time point.
For cases in which the outcome variable constitutes a growth process at
the final time point, we advise choosing a reasonable measure for
balancing purposes (e.g., baseline or average levels) before
subsequently using the generated weights to separately conduct a
weighted growth model of the outcome.</p>
<p>We advise the user to specify and include in the dataset any time
invariant and time-varying variables that could possibly confound the
relation between exposure and outcome. We also suggest using multiple
measured variables within each construct to help reduce any effects from
measurement bias (Kainz et al., 2017). Time varying confounders are
ideal for maximizing the power of MSMs. Time-varying confounders could
include developmental indicators that tend to track with the exposure
over time that could also cause the outcome, including past levels of
the exposure. Of note, the time points at which the confounders were
collected must be equal to, or a subset of, the time points at which the
exposure and outcome were collected in the data. In a perfect world, all
exposures and potential confounders would be measured at all time points
prior to the outcome. However, with real-world data due to planned and
unplanned missingness, this is often not the case. Users should consider
discussing the implications and limitations conferred by variables that
could be confounders that were not collected at all time points. As a
basis for specifying confounders, users should turn to the literature to
delineate a causal model that lays out hypothesized relations between
confounders, exposures, and outcome.</p>
<p>We advise users implement the appropriate preliminary steps, with the
goal of assigning to ‘data’ one of the following wide data formats (see
Figure 1) for use in the package:</p>
<ul>
<li><p>a single data frame of data in wide format with no missing
data</p></li>
<li><p>a mids object (output from <code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice::mice()</a></code>) of data
imputed in wide format</p></li>
<li><p>a list of data imputed in wide format as data frames.
<br></p></li>
</ul>
<p>As shown in Figure 1, for use of the <em>devMSMs</em> package, data
in any of the above 3 formats, must be wide and contain an “ID” column
for subject identifier and exposure, outcome, and all confounders as
separate columns (as shown in Figure 1). Column names can include only
underscore special characters and time-varying variables should have a
suffix that consists of a period followed by the time point (e.g.,
“variable.6”). All variables should be classed as integer, numeric, or a
factor (not character). Auxiliary or nuisance covariates that are not
confounders (e.g, assessment version) can be included in the dataset for
use and specification in the final modeling step (<em>Workflow</em>
vignettes Step 5).</p>
<p><br><br></p>
<!-- ![Figure 1. Abridged example structure of a wide dataset formatted as required for the devMSMs. Column A denotes the ID variable, column B (green) denotes a time in-variant confounder (e.g., race, birth information), columns C - F denote two time-varying confounders (lighter yellow) at two different time points (e.g., age.1, age.2 and income.1, income.2, where .1 represents wave 1 and .2 represents wave 2). Columns G - I denote the exposure and outcome of interest (darker yellow), where G and H are time-varying values on each exposure, and column I is the outcome value at the final wave/timepoint. Missing data are denoted as *NA* and will need to be imputed (Step P2).](figures/sample_data.png){width="900px"} -->
<pre><code><span><span class="co">#&gt;   id ti_X tv_Y1.1 tv_Y1.2 tv_Y2.1 tv_Y2.2 exposure.1 exposure.2 outcome.2</span></span>
<span><span class="co">#&gt; 1  1  0.5      50      65      NA    0.04          3          4        80</span></span>
<span><span class="co">#&gt; 2  2   NA      33      57    0.08    0.03          5          3        68</span></span>
<span><span class="co">#&gt; 3  3  0.3      68      NA    0.01    0.02          6          8        59</span></span></code></pre>
 

  
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>tinytable_ijtdx5ntl7d2hervnp7p</title>
<style>
.table td.tinytable_css_fzwsoxmcup2gwkhqnxj4, .table th.tinytable_css_fzwsoxmcup2gwkhqnxj4 {    border-bottom: solid 0.1em #d3d8dc; }
.table td.tinytable_css_gwhmvmap65knyb99qx6c, .table th.tinytable_css_gwhmvmap65knyb99qx6c {    background-color: #E3EFDC; }
.table td.tinytable_css_rp18b5x1wg0rwyfubc70, .table th.tinytable_css_rp18b5x1wg0rwyfubc70 {    background-color: #FDF4CF; }
.table td.tinytable_css_jyhdexk56yzyz96aco8g, .table th.tinytable_css_jyhdexk56yzyz96aco8g {    background-color: #d4a0fa; }
.table td.tinytable_css_9dc94va645er44c0k8p3, .table th.tinytable_css_9dc94va645er44c0k8p3 {    background-color: #a0d8fa; }
    </style>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>
    MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']]
      },
      svg: {
        fontCache: 'global'
      }
    };
    </script><div class="container">
      <table class="table table table-borderless" id="tinytable_ijtdx5ntl7d2hervnp7p" style="width: auto; margin-left: auto; margin-right: auto;" data-quarto-disable-processing="true">
<thead><tr>
<th scope="col">id</th>
                <th scope="col">ti_X</th>
                <th scope="col">tv_Y1.1</th>
                <th scope="col">tv_Y1.2</th>
                <th scope="col">tv_Y2.1</th>
                <th scope="col">tv_Y2.2</th>
                <th scope="col">exposure.1</th>
                <th scope="col">exposure.2</th>
                <th scope="col">outcome.2</th>
              </tr></thead>
<tbody>
<tr>
<td>1</td>
                  <td>0.5</td>
                  <td>50</td>
                  <td>65</td>
                  <td>  NA</td>
                  <td>0.04</td>
                  <td>3</td>
                  <td>4</td>
                  <td>80</td>
                </tr>
<tr>
<td>2</td>
                  <td> NA</td>
                  <td>33</td>
                  <td>57</td>
                  <td>0.08</td>
                  <td>0.03</td>
                  <td>5</td>
                  <td>3</td>
                  <td>68</td>
                </tr>
<tr>
<td>3</td>
                  <td>0.3</td>
                  <td>68</td>
                  <td>NA</td>
                  <td>0.01</td>
                  <td>0.02</td>
                  <td>6</td>
                  <td>8</td>
                  <td>59</td>
                </tr>
</tbody>
</table>
</div>

    <script>
      function styleCell_tinytable_9n8o98iosemua6rb2f7b(i, j, css_id) {
        var table = document.getElementById("tinytable_ijtdx5ntl7d2hervnp7p");
        table.rows[i].cells[j].classList.add(css_id);
      }
      function insertSpanRow(i, colspan, content) {
        var table = document.getElementById('tinytable_ijtdx5ntl7d2hervnp7p');
        var newRow = table.insertRow(i);
        var newCell = newRow.insertCell(0);
        newCell.setAttribute("colspan", colspan);
        // newCell.innerText = content;
        // this may be unsafe, but innerText does not interpret <br>
        newCell.innerHTML = content;
      }
      function spanCell_tinytable_9n8o98iosemua6rb2f7b(i, j, rowspan, colspan) {
        var table = document.getElementById("tinytable_ijtdx5ntl7d2hervnp7p");
        const targetRow = table.rows[i];
        const targetCell = targetRow.cells[j];
        for (let r = 0; r < rowspan; r++) {
          // Only start deleting cells to the right for the first row (r == 0)
          if (r === 0) {
            // Delete cells to the right of the target cell in the first row
            for (let c = colspan - 1; c > 0; c--) {
              if (table.rows[i + r].cells[j + c]) {
                table.rows[i + r].deleteCell(j + c);
              }
            }
          }
          // For rows below the first, delete starting from the target column
          if (r > 0) {
            for (let c = colspan - 1; c >= 0; c--) {
              if (table.rows[i + r] && table.rows[i + r].cells[j]) {
                table.rows[i + r].deleteCell(j);
              }
            }
          }
        }
        // Set rowspan and colspan of the target cell
        targetCell.rowSpan = rowspan;
        targetCell.colSpan = colspan;
      }

window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 0, 'tinytable_css_fzwsoxmcup2gwkhqnxj4') })
window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 1, 'tinytable_css_fzwsoxmcup2gwkhqnxj4') })
window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 2, 'tinytable_css_fzwsoxmcup2gwkhqnxj4') })
window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 3, 'tinytable_css_fzwsoxmcup2gwkhqnxj4') })
window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 4, 'tinytable_css_fzwsoxmcup2gwkhqnxj4') })
window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 5, 'tinytable_css_fzwsoxmcup2gwkhqnxj4') })
window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 6, 'tinytable_css_fzwsoxmcup2gwkhqnxj4') })
window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 7, 'tinytable_css_fzwsoxmcup2gwkhqnxj4') })
window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 8, 'tinytable_css_fzwsoxmcup2gwkhqnxj4') })
window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 1, 'tinytable_css_gwhmvmap65knyb99qx6c') })
window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 2, 'tinytable_css_rp18b5x1wg0rwyfubc70') })
window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 3, 'tinytable_css_rp18b5x1wg0rwyfubc70') })
window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 4, 'tinytable_css_rp18b5x1wg0rwyfubc70') })
window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 5, 'tinytable_css_rp18b5x1wg0rwyfubc70') })
window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 6, 'tinytable_css_jyhdexk56yzyz96aco8g') })
window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 7, 'tinytable_css_jyhdexk56yzyz96aco8g') })
window.addEventListener('load', function () { styleCell_tinytable_9n8o98iosemua6rb2f7b(0, 8, 'tinytable_css_9dc94va645er44c0k8p3') })
    </script><p><br></p>
<div class="section level3">
<h3 id="loading-packages">Loading packages<a class="anchor" aria-label="anchor" href="#loading-packages"></a>
</h3>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://vincentarelbundock.github.io/tinytable/" class="external-link">tinytable</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"istallworthy/devMSMs"</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"istallworthy/devMSMsHelpers"</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">devMSMsHelpers</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="exploring-data">Exploring Data<a class="anchor" aria-label="anchor" href="#exploring-data"></a>
</h3>
<p>The following longitudinal data that accompany <em>devMSMs</em> are
simulated based on data from the Family Life Project (FLP), a
longitudinal study following 1,292 families representative of two
geographic areas (three counties in North Carolina and three counties in
Pennsylvania) with high rural child poverty (Vernon-Feagans et al.,
2013; Burchinal et al., 2008). We take the example exposure of economic
strain (ESETA1) measured at 6, 15, 24, 35, and 58 months in relation to
the outcome of behavior problems (StrDif_Tot) measured at 58 months.</p>
<p><em>devMSMs</em> (see <em>Workflows</em> vignettes) requires complete
data in wide format (i.e., one row per individual, with and “ID” column
for identifiers), in one of three ways:</p>
<ol style="list-style-type: decimal">
<li>a single data frame with no missing data;</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"sim_data_wide"</span>, package <span class="op">=</span> <span class="st">"devMSMs"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sim_data_wide</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ID state TcBlac2 BioDadInHH2 HomeOwnd KFASTScr PmBlac2 PmEd2 PmMrSt2 PmAge2</span></span>
<span><span class="co">#&gt; 1  1     0       0           1        1       24       0    15       1 27.245</span></span>
<span><span class="co">#&gt; 2  2     1       1           0        2       27       1    17       0 32.292</span></span>
<span><span class="co">#&gt; 3  3     0       0           0        3       15       1    13       1 25.588</span></span>
<span><span class="co">#&gt; 4  4     1       0           0        2       17       0    14       0 22.664</span></span>
<span><span class="co">#&gt; 5  5     0       0           1        1       25       0    20       1 41.153</span></span></code></pre></div>
<p><br></p>
<ol start="2" style="list-style-type: decimal">
<li>imputed data in the form of a mids object (output from
<code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice::mice()</a></code>);</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st"><a href="https://github.com/amices/mice" class="external-link">"mice"</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'mice'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     cbind, rbind</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"sim_data_mice"</span>, package <span class="op">=</span> <span class="st">"devMSMs"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">sim_data_mice</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "mids"</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">mice</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/complete.html" class="external-link">complete</a></span><span class="op">(</span><span class="va">sim_data_mice</span>, <span class="fl">1</span><span class="op">)</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ALI_Le.35 B18Raw.15 B18Raw.24 B18Raw.58 B18Raw.6 BioDadInHH2 caregiv_health</span></span>
<span><span class="co">#&gt; 1         3         1         1         7       16           1              3</span></span>
<span><span class="co">#&gt; 2         2         4        -7         7        0           0              0</span></span>
<span><span class="co">#&gt; 3         3         6         5        20       -1           0              3</span></span>
<span><span class="co">#&gt; 4         4        24        25        17       11           0              3</span></span>
<span><span class="co">#&gt; 5         3        -8        -9        17        1           1              2</span></span>
<span><span class="co">#&gt;   CORTB.15 CORTB.24 CORTB.6</span></span>
<span><span class="co">#&gt; 1   -0.227   -0.652   0.742</span></span>
<span><span class="co">#&gt; 2    0.149    0.831   0.018</span></span>
<span><span class="co">#&gt; 3    1.145    0.033  -0.379</span></span>
<span><span class="co">#&gt; 4    0.301   -0.501   0.000</span></span>
<span><span class="co">#&gt; 5   -0.247    0.084   0.153</span></span></code></pre></div>
<p><br></p>
<ol start="3" style="list-style-type: decimal">
<li>imputed data as a list of imputed data frames.</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"sim_data_imp_list"</span>, package <span class="op">=</span> <span class="st">"devMSMs"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">sim_data_imp_list</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   X ALI_Le.35 B18Raw.15 B18Raw.24 B18Raw.58 B18Raw.6 BioDadInHH2 caregiv_health</span></span>
<span><span class="co">#&gt; 1 1         3         1         1         7       16           1              3</span></span>
<span><span class="co">#&gt; 2 2         2         4        -7         7        0           0              0</span></span>
<span><span class="co">#&gt; 3 3         3         6         5        20       -1           0              3</span></span>
<span><span class="co">#&gt; 4 4         4        24        25        17       11           0              3</span></span>
<span><span class="co">#&gt; 5 5         3        -8        -9        17        1           1              2</span></span>
<span><span class="co">#&gt;   CORTB.15 CORTB.24</span></span>
<span><span class="co">#&gt; 1   -0.227   -0.652</span></span>
<span><span class="co">#&gt; 2    0.149    0.831</span></span>
<span><span class="co">#&gt; 3    1.145    0.033</span></span>
<span><span class="co">#&gt; 4    0.301   -0.501</span></span>
<span><span class="co">#&gt; 5   -0.247    0.084</span></span></code></pre></div>
<p><br></p>
</div>
</div>
<div class="section level2">
<h2 id="data-preparation">Data Preparation<a class="anchor" aria-label="anchor" href="#data-preparation"></a>
</h2>
<p>The helper functions (summarized in Table 1) for the following
recommended preliminary steps can be found at this
<a href="https://github.com/istallworthy/devMSMsHelpers" class="external-link">Github</a>. Of
note, <em>devMSMs</em> must also be installed and loaded to use these
helper functions (see
<a href="https://istallworthy.github.io/devMSMs/">Installation</a>).</p>
<p>These five recommended preliminary steps are designed to assist the
user in preparing and inspecting their data to ensure appropriate use of
the package.</p>
<p><br></p>
<pre><code><span><span class="co">#&gt; [1] "&lt;S4 class 'tinytable' [package \"tinytable\"] with 23 slots&gt;"</span></span></code></pre>
<p>We first install the <em>devMSMs</em> and <em>devMSMsHelpers</em>
packages.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://devtools.r-lib.org/" class="external-link">devtools</a></span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"istallworthy/devMSMs"</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"istallworthy/devMSMsHelpers"</span>, quiet <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://istallworthy.github.io/devMSMs/">devMSMs</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">devMSMsHelpers</span><span class="op">)</span></span></code></pre></div>
<p><br></p>
<div class="section level3">
<h3 id="specify-core-inputs">Specify Core Inputs<a class="anchor" aria-label="anchor" href="#specify-core-inputs"></a>
</h3>
<p>Please see the
<a href="https://istallworthy.github.io/devMSMs/articles/Specify_Core_Inputs.html">Specifying
Core Inputs vignette</a> for more detail on the following core inputs.
Here, we use ESETA1, a measure of economic strain experienced by the
family, as the exposure and StrDif_Tot, or behavior problems measured by
the SDQ, as the outcome.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1234</span><span class="op">)</span></span>
<span></span>
<span><span class="va">exposure</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ESETA1.6"</span>, <span class="st">"ESETA1.15"</span>, <span class="st">"ESETA1.24"</span>, <span class="st">"ESETA1.35"</span>, <span class="st">"ESETA1.58"</span><span class="op">)</span> </span>
<span></span>
<span><span class="va">ti_conf</span> <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"state"</span>, <span class="st">"BioDadInHH2"</span>, <span class="st">"PmAge2"</span>, <span class="st">"PmBlac2"</span>, <span class="st">"TcBlac2"</span>, <span class="st">"PmMrSt2"</span>, <span class="st">"PmEd2"</span>, <span class="st">"KFASTScr"</span>,</span>
<span>             <span class="st">"RMomAgeU"</span>, <span class="st">"RHealth"</span>, <span class="st">"HomeOwnd"</span>, <span class="st">"SWghtLB"</span>, <span class="st">"SurpPreg"</span>, <span class="st">"SmokTotl"</span>, <span class="st">"DrnkFreq"</span>,</span>
<span>             <span class="st">"peri_health"</span>, <span class="st">"caregiv_health"</span>, <span class="st">"gov_assist"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tv_conf</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SAAmylase.6"</span>,<span class="st">"SAAmylase.15"</span>, <span class="st">"SAAmylase.24"</span>, </span>
<span>            <span class="st">"MDI.6"</span>, <span class="st">"MDI.15"</span>,                                            </span>
<span>            <span class="st">"RHasSO.6"</span>, <span class="st">"RHasSO.15"</span>, <span class="st">"RHasSO.24"</span>,<span class="st">"RHasSO.35"</span>, <span class="st">"RHasSO.58"</span>,                                         </span>
<span>            <span class="st">"WndNbrhood.6"</span>,<span class="st">"WndNbrhood.24"</span>, <span class="st">"WndNbrhood.35"</span>, <span class="st">"WndNbrhood.58"</span>,                                       </span>
<span>            <span class="st">"IBRAttn.6"</span>, <span class="st">"IBRAttn.15"</span>, <span class="st">"IBRAttn.24"</span>,                                   </span>
<span>            <span class="st">"B18Raw.6"</span>, <span class="st">"B18Raw.15"</span>, <span class="st">"B18Raw.24"</span>, <span class="st">"B18Raw.58"</span>,                                           </span>
<span>            <span class="st">"HOMEETA1.6"</span>, <span class="st">"HOMEETA1.15"</span>, <span class="st">"HOMEETA1.24"</span>, <span class="st">"HOMEETA1.35"</span>, <span class="st">"HOMEETA1.58"</span>,                               </span>
<span>            <span class="st">"InRatioCor.6"</span>, <span class="st">"InRatioCor.15"</span>, <span class="st">"InRatioCor.24"</span>, <span class="st">"InRatioCor.35"</span>, <span class="st">"InRatioCor.58"</span>,                         </span>
<span>            <span class="st">"CORTB.6"</span>, <span class="st">"CORTB.15"</span>, <span class="st">"CORTB.24"</span>,                                                                  </span>
<span>            <span class="st">"EARS_TJo.24"</span>, <span class="st">"EARS_TJo.35"</span>,                                        </span>
<span>            <span class="st">"LESMnPos.24"</span>, <span class="st">"LESMnPos.35"</span>,                                  </span>
<span>            <span class="st">"LESMnNeg.24"</span>, <span class="st">"LESMnNeg.35"</span>,       </span>
<span>            <span class="st">"StrDif_Tot.35"</span>, </span>
<span>            <span class="st">"fscore.35"</span>, <span class="st">"fscore.58"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># home_dir = NA</span></span>
<span></span>
<span><span class="va">outcome</span> <span class="op">&lt;-</span> <span class="st">"StrDif_Tot.58"</span></span></code></pre></div>
<p>Some helper functions have optional arguments to suppress saving
output locally (<code>save.out</code> = FALSE) and printing it to the
console ( <code>verbose</code> = FALSE). The defaults to both arguments
are TRUE. Users must supply a path to a home directory if
<code>save.out</code> = TRUE.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">save.out</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span></span>
<span></span>
<span><span class="va">verbose</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span></span></code></pre></div>
<p><br></p>
<p>As shown in Figure 2, users have several options for reading in data.
They can begin this workflow with the following options:<br><br></p>
<ul>
<li>(D1) long data: complete or with missingness that can be formatted
and converted to wide data and (P3) imputed as needed</li>
<li>(D2) wide data: complete or missingness that can be formatted and
(P3) imputed as needed<br>
</li>
<li>(D3) data already imputed in wide format can be read in as a
list</li>
</ul>
<p><br></p>
<div class="float">
<img src="figures/prelim_steps_overview.png" width="900" alt="Figure 2. Schematic of recommended preliminary steps showing the transformation of the 3 different kinds of starting data (enumerated in bold) to the three kinds of data accepted by devMSMs."><div class="figcaption">Figure 2. Schematic of recommended preliminary
steps showing the transformation of the 3 different kinds of starting
data (enumerated in bold) to the three kinds of data accepted by
<em>devMSMs</em>.</div>
</div>
<p><br><br></p>
</div>
<div class="section level3">
<h3 id="d1--single-long-data-frame">D1. Single Long Data Frame<a class="anchor" aria-label="anchor" href="#d1--single-long-data-frame"></a>
</h3>
<p>Users beginning with a single data frame in long format (with or
without missingness) can utilize a helper function
<code><a href="https://rdrr.io/pkg/devMSMsHelpers/man/formatLongData.html" class="external-link">formatLongData()</a></code> to summarize exposure and outcome data and
convert to required variable names.</p>
<p>First, we load the simulated longitudinal data in long format (with
missingness) that accompanies <em>devMSMs</em>. These data are simulated
based on data from the Family Life Project (FLP), a longitudinal study
following 1,292 families representative of two geographic areas (three
counties in North Carolina and three counties in Pennsylvania) with high
rural child poverty (Vernon-Feagans et al., 2013; Burchinal et al.,
2008). We take the example exposure of economic strain (ESETA1) measured
at 6, 15, 24, 35, and 58 months in relation to the outcome of behavior
problems (StrDif_Tot) measured at 58 months.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"sim_data_long_miss"</span>, package <span class="op">=</span> <span class="st">"devMSMs"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_long</span> <span class="op">&lt;-</span> <span class="va">sim_data_long_miss</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data_long</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ID state BioDadInHH2 PmAge2 PmBlac2 TcBlac2 PmMrSt2 PmEd2 KFASTScr RMomAgeU</span></span>
<span><span class="co">#&gt; 1  1     0           1 27.245       0       0       1    15       24       29</span></span>
<span><span class="co">#&gt; 2  1     0           1 27.245       0       0       1    15       24       29</span></span>
<span><span class="co">#&gt; 3  1     0           1 27.245       0       0       1    15       24       29</span></span>
<span><span class="co">#&gt; 4  1     0           1 27.245       0       0       1    15       24       29</span></span>
<span><span class="co">#&gt; 5  1     0           1 27.245       0       0       1    15       24       29</span></span></code></pre></div>
<p><br></p>
<div class="section level4">
<h4 id="d1a--format-long-data">D1a. Format Long Data<a class="anchor" aria-label="anchor" href="#d1a--format-long-data"></a>
</h4>
<p>For long data that is not correctly formatted,
<code><a href="https://rdrr.io/pkg/devMSMsHelpers/man/formatLongData.html" class="external-link">formatLongData()</a></code> allows the users to supply existing
variables for time (<code>time_var</code>), ID (<code>id_var</code>),
and missing data (<code>missing</code>) for re-naming according to what
is required by the package. It also allows the user to submit variables
that should be factors and integers, and the function classes any factor
confounders (<code>factor_confounders</code>) as factors, integer
confounders (<code>integer_confounders</code>) as integers in the data,
and all others as numeric. The <code>sep</code> field allows you to
specify a delimeter for the integer that indicates time point in the
variable names.</p>
<p>Below, we format the simulated long FLP data.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">factor_confounders</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"state"</span>, <span class="st">"TcBlac2"</span>, <span class="st">"BioDadInHH2"</span>, <span class="st">"HomeOwnd"</span>, <span class="st">"PmBlac2"</span>,</span>
<span>                        <span class="st">"PmMrSt2"</span>, <span class="st">"SurpPreg"</span>, <span class="st">"RHealth"</span>, <span class="st">"SmokTotl"</span>, <span class="st">"DrnkFreq"</span>,</span>
<span>                        <span class="st">"RHasSO"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">integer_confounders</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"KFASTScr"</span>, <span class="st">"PmEd2"</span>, <span class="st">"RMomAgeU"</span>, <span class="st">"SWghtLB"</span>, <span class="st">"peri_health"</span>, </span>
<span>                         <span class="st">"caregiv_health"</span>, <span class="st">"gov_assist"</span>, <span class="st">"B18Raw"</span>, <span class="st">"EARS_TJo"</span>, <span class="st">"MDI"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># data_long_f &lt;- formatLongData(</span></span>
<span><span class="co">#   data = data_long, </span></span>
<span><span class="co">#   exposure = exposure,</span></span>
<span><span class="co">#   outcome = outcome,</span></span>
<span><span class="co">#   sep = "\\.",</span></span>
<span><span class="co">#   time_var = "WAVE",</span></span>
<span><span class="co">#   id_var = "ID",</span></span>
<span><span class="co">#   missing = NA,</span></span>
<span><span class="co">#   factor_confounders = factor_confounders,</span></span>
<span><span class="co">#   integer_confounders = integer_confounders,</span></span>
<span><span class="co">#   home_dir = home_dir,</span></span>
<span><span class="co">#   save.out = save.out</span></span>
<span><span class="co"># )</span></span>
<span></span>
<span><span class="co"># head(data_long_f, n = c(5, 10))</span></span></code></pre></div>
<p>We get a descriptive statistics summary of the exposure, ESETA1, and
the outcome, StrDif_Tot.58, for our visual inspections.</p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="d1b--tranform-formatted-long-data-to-wide">D1b. Tranform Formatted Long Data to Wide<a class="anchor" aria-label="anchor" href="#d1b--tranform-formatted-long-data-to-wide"></a>
</h4>
<p>Users with correctly formatted data in long format have the option of
using the following code to transform their data into wide format, to
proceed to using the package (if there is no missing data) or imputing
(with &lt; 20% missing data MAR).</p>
<p>We then transform our newly formatted long data into wide format,
specifying <code>idvar</code> as “ID”, <code>timevar</code> as “WAVE”,
and supplying the time points (encompassing exposure, confounder, and
outcome time points) in the data as 6, 15, 24, 35, and 58 to
<code>times</code>.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="st">"stats"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># sep &lt;- "\\." </span></span>
<span><span class="co"># v &lt;- sapply(strsplit(tv_conf[!grepl("\\:", tv_conf)], sep), head, 1)</span></span>
<span><span class="co"># v &lt;- c(v[!duplicated(v)], sapply(strsplit(exposure[1], sep), head, 1))</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># data_wide_f &lt;- stats::reshape(</span></span>
<span><span class="co">#   data = data_long_f,</span></span>
<span><span class="co">#   idvar = "ID",</span></span>
<span><span class="co">#   v.names = v,</span></span>
<span><span class="co">#   timevar = "WAVE",</span></span>
<span><span class="co">#   times = c(6, 15, 24, 35, 58),</span></span>
<span><span class="co">#   direction = "wide"</span></span>
<span><span class="co"># )</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># data_wide_f &lt;- data_wide_f[, colSums(is.na(data_wide_f)) &lt; nrow(data_wide_f)]</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># head(data_wide_f, n = c(5, 10))</span></span></code></pre></div>
<p><br><br></p>
</div>
</div>
<div class="section level3">
<h3 id="d2--single-wide-data-frame">D2. Single Wide Data Frame<a class="anchor" aria-label="anchor" href="#d2--single-wide-data-frame"></a>
</h3>
<p>Alternatively, users could start with a single data frame of wide
data (with or without missingness).</p>
<p>Below, we we load in a single complete, wide data frame simulated
from FLP as an example.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"sim_data_wide"</span>, package <span class="op">=</span> <span class="st">"devMSMs"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_wide</span> <span class="op">&lt;-</span> <span class="va">sim_data_wide</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data_wide</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ID state TcBlac2 BioDadInHH2 HomeOwnd KFASTScr PmBlac2 PmEd2 PmMrSt2 PmAge2</span></span>
<span><span class="co">#&gt; 1  1     0       0           1        1       24       0    15       1 27.245</span></span>
<span><span class="co">#&gt; 2  2     1       1           0        2       27       1    17       0 32.292</span></span>
<span><span class="co">#&gt; 3  3     0       0           0        3       15       1    13       1 25.588</span></span>
<span><span class="co">#&gt; 4  4     1       0           0        2       17       0    14       0 22.664</span></span>
<span><span class="co">#&gt; 5  5     0       0           1        1       25       0    20       1 41.153</span></span></code></pre></div>
<p><br></p>
<p>Data with missingness is more common with human data. Below we read
in simulated wide FLP data with missingness.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"sim_data_wide_miss"</span>, package <span class="op">=</span> <span class="st">"devMSMs"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_wide</span> <span class="op">&lt;-</span> <span class="va">sim_data_wide_miss</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data_wide</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ID state TcBlac2 BioDadInHH2 HomeOwnd KFASTScr PmBlac2 PmEd2 PmMrSt2 PmAge2</span></span>
<span><span class="co">#&gt; 1  1     0       0           1        1       24       0    15       1 27.245</span></span>
<span><span class="co">#&gt; 2  2     1       1           0        2       27       1    17       0 32.292</span></span>
<span><span class="co">#&gt; 3  3     0       0           0        3       15       1    13       1 25.588</span></span>
<span><span class="co">#&gt; 4  4     1       0           0        2       17       0    14       0 22.664</span></span>
<span><span class="co">#&gt; 5  5     0       0           1        1       25       0    20       1 41.153</span></span></code></pre></div>
<p><br></p>
<div class="section level4">
<h4 id="d2a--format-wide-data">D2a. Format Wide Data<a class="anchor" aria-label="anchor" href="#d2a--format-wide-data"></a>
</h4>
<p>Users beginning with a single unformatted data frame in long format
can utilize a helper function <code><a href="https://rdrr.io/pkg/devMSMsHelpers/man/formatWideData.html" class="external-link">formatWideData()</a></code> to summarize
exposure and outcome data and convert to required variable names.
<code><a href="https://rdrr.io/pkg/devMSMsHelpers/man/formatWideData.html" class="external-link">formatWideData()</a></code> allows the users to supply existing
variables for ID (<code>id_var</code>) and missing data
(<code>missing</code>) for re-naming according to what is required by
the package. It also allows the user to submit variables that should be
factors and integers, and the function classes any factor confounders
(<code>factor_confounders</code>) as factors, integer confounders
(<code>integer_confounders</code>) as integers in the data, and all
others as numeric. The user can also specify a time point delimeter
(<code>sep</code>).</p>
<p>Below, we format the simulated wide FLP data by listing out variables
to make into factors and integers in wide format (e.g., “variable.t”),
as well as the ID and missingness indicators.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">factor_confounders</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"state"</span>, <span class="st">"TcBlac2"</span>, <span class="st">"BioDadInHH2"</span>, <span class="st">"HomeOwnd"</span>, <span class="st">"PmBlac2"</span>,</span>
<span>  <span class="st">"PmMrSt2"</span>, <span class="st">"SurpPreg"</span>, <span class="st">"RHealth"</span>, <span class="st">"SmokTotl"</span>, <span class="st">"DrnkFreq"</span>,</span>
<span>  <span class="st">"RHasSO.6"</span>, <span class="st">"RHasSO.15"</span>, <span class="st">"RHasSO.24"</span>, <span class="st">"RHasSO.35"</span>, <span class="st">"RHasSO.58"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">integer_confounders</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"KFASTScr"</span>, <span class="st">"PmEd2"</span>, <span class="st">"RMomAgeU"</span>, <span class="st">"SWghtLB"</span>, <span class="st">"peri_health"</span>, <span class="st">"caregiv_health"</span>,</span>
<span>  <span class="st">"gov_assist"</span>, <span class="st">"B18Raw.6"</span>, <span class="st">"B18Raw.15"</span>, <span class="st">"B18Raw.24"</span>, <span class="st">"B18Raw.58"</span>,</span>
<span>  <span class="st">"EARS_TJo.24"</span>, <span class="st">"EARS_TJo.35"</span>, <span class="st">"MDI.6"</span>, <span class="st">"MDI.15"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">data_wide_f</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/devMSMsHelpers/man/formatWideData.html" class="external-link">formatWideData</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">data_wide</span>, </span>
<span>  exposure <span class="op">=</span> <span class="va">exposure</span>, </span>
<span>  outcome <span class="op">=</span> <span class="va">outcome</span>,</span>
<span>  sep <span class="op">=</span> <span class="st">"\\."</span>,</span>
<span>  id_var <span class="op">=</span> <span class="st">"ID"</span>,</span>
<span>  missing <span class="op">=</span> <span class="cn">NA</span>,</span>
<span>  factor_confounders <span class="op">=</span> <span class="va">factor_confounders</span>,</span>
<span>  integer_confounders <span class="op">=</span> <span class="va">integer_confounders</span>,</span>
<span>  home_dir <span class="op">=</span> <span class="va">home_dir</span>, </span>
<span>  save.out <span class="op">=</span> <span class="va">save.out</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;table class="kable_wrapper"&gt;</span></span>
<span><span class="co">#&gt; &lt;caption&gt;Summary of ESETA1.6 Information&lt;/caption&gt;</span></span>
<span><span class="co">#&gt; &lt;table class="kable_wrapper"&gt;</span></span>
<span><span class="co">#&gt; &lt;caption&gt;Summary of ESETA1.15 Information&lt;/caption&gt;</span></span>
<span><span class="co">#&gt; &lt;table class="kable_wrapper"&gt;</span></span>
<span><span class="co">#&gt; &lt;caption&gt;Summary of ESETA1.24 Information&lt;/caption&gt;</span></span>
<span><span class="co">#&gt; &lt;table class="kable_wrapper"&gt;</span></span>
<span><span class="co">#&gt; &lt;caption&gt;Summary of ESETA1.35 Information&lt;/caption&gt;</span></span>
<span><span class="co">#&gt; &lt;table class="kable_wrapper"&gt;</span></span>
<span><span class="co">#&gt; &lt;caption&gt;Summary of ESETA1.58 Information&lt;/caption&gt;</span></span>
<span><span class="co">#&gt; &lt;tbody&gt;</span></span>
<span><span class="co">#&gt;   &lt;tr&gt;</span></span>
<span><span class="co">#&gt;    &lt;td&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; |   |   ESETA1.6     |  ESETA1.15     |  ESETA1.24     |  ESETA1.35     |  ESETA1.58     |</span></span>
<span><span class="co">#&gt; |:--|:---------------|:---------------|:---------------|:---------------|:---------------|</span></span>
<span><span class="co">#&gt; |   |Min.   :-2.8090 |Min.   :-3.1010 |Min.   :-2.8580 |Min.   :-3.2410 |Min.   :-2.4780 |</span></span>
<span><span class="co">#&gt; |   |1st Qu.:-0.3058 |1st Qu.:-0.3495 |1st Qu.:-0.4510 |1st Qu.:-0.5220 |1st Qu.:-0.4968 |</span></span>
<span><span class="co">#&gt; |   |Median : 0.3735 |Median : 0.2745 |Median : 0.1635 |Median : 0.1140 |Median : 0.1275 |</span></span>
<span><span class="co">#&gt; |   |Mean   : 0.3405 |Mean   : 0.2664 |Mean   : 0.1591 |Mean   : 0.1229 |Mean   : 0.1159 |</span></span>
<span><span class="co">#&gt; |   |3rd Qu.: 0.9617 |3rd Qu.: 0.9217 |3rd Qu.: 0.8015 |3rd Qu.: 0.7750 |3rd Qu.: 0.7515 |</span></span>
<span><span class="co">#&gt; |   |Max.   : 4.0350 |Max.   : 3.4740 |Max.   : 3.2840 |Max.   : 3.0140 |Max.   : 3.1730 |</span></span>
<span><span class="co">#&gt; |   |NA's   :258     |NA's   :258     |NA's   :258     |NA's   :258     |NA's   :258     |</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;  &lt;/td&gt;</span></span>
<span><span class="co">#&gt;   &lt;/tr&gt;</span></span>
<span><span class="co">#&gt; &lt;/tbody&gt;</span></span>
<span><span class="co">#&gt; &lt;/table&gt;</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Table: Summary of StrDif_Tot.58 Information</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; |   Min.| X1st.Qu.| Median|      Mean| X3rd.Qu.|  Max.| NA.s|</span></span>
<span><span class="co">#&gt; |------:|--------:|------:|---------:|--------:|-----:|----:|</span></span>
<span><span class="co">#&gt; | -0.497|  0.29825|  0.488| 0.4989333|   0.7055| 1.448|  258|</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data_wide_f</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ID state TcBlac2 BioDadInHH2 HomeOwnd KFASTScr PmBlac2 PmEd2 PmMrSt2 PmAge2</span></span>
<span><span class="co">#&gt; 1  1     0       0           1        1       NA       0    NA       1 27.245</span></span>
<span><span class="co">#&gt; 2  2     1       1           0        2       NA       1    NA       0 32.292</span></span>
<span><span class="co">#&gt; 3  3     0       0           0        3       NA       1    NA       1 25.588</span></span>
<span><span class="co">#&gt; 4  4     1       0           0        2       NA       0    NA       0 22.664</span></span>
<span><span class="co">#&gt; 5  5     0       0           1        1       NA       0    NA       1 41.153</span></span></code></pre></div>
<p><br><br></p>
</div>
</div>
<div class="section level3">
<h3 id="d3--formatted-wide-data-with-missingness">D3. Formatted Wide Data with Missingness<a class="anchor" aria-label="anchor" href="#d3--formatted-wide-data-with-missingness"></a>
</h3>
<p>The functions of the <em>devMSMs</em> package accept data in the form
of a single data frame with no missing values or <em>m</em> imputed
datasets in the form of either a mids object (output from the mice
package or via <code><a href="https://rdrr.io/pkg/devMSMsHelpers/man/imputeData.html" class="external-link">imputeData()</a></code>) or a list of imputed datasets.
Most developmental data from humans will have some amount of missing
data. Given that the creation of IPTW balancing weights requires
complete data, we recommend imputing data. Imputation assumes a missing
data mechanism of missing at random (MAR) and no more than 20% missing
data in total (Leyrat et al., 2021). Given existing work demonstrating
its superiority, <em>devMSMS</em> implements the ‘within’ approach for
imputed data, conducting all steps on each imputed dataset before
pooling estimates using Rubin’s rules to create final average
predictions and contrast comparisons in <em>Worfklows</em> vignettes
Step 5 (Leyrat et al, 2021; Granger et al., 2019).</p>
<p>As shown below, users can use a helper function to impute their wide
data or impute elsewhere and read in the imputed data as a list for use
with <em>devMSMs</em>.</p>
<p><br></p>
<div class="section level4">
<h4 id="d3a--multiply-impute-formatted-wide-data-frame-using-mice">D3a. Multiply Impute Formatted, Wide Data Frame using MICE<a class="anchor" aria-label="anchor" href="#d3a--multiply-impute-formatted-wide-data-frame-using-mice"></a>
</h4>
<p>Users have the option of using the helper <code><a href="https://rdrr.io/pkg/devMSMsHelpers/man/imputeData.html" class="external-link">imputeData()</a></code>
function to impute their correctly formatted wide data. This step can
take a while to run. The user can specify how many imputed datasets to
create (default m = 5). <code><a href="https://rdrr.io/pkg/devMSMsHelpers/man/imputeData.html" class="external-link">imputeData()</a></code> draws on the
<code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice()</a></code> function from the <em>mice</em> package (van Buuren
&amp; Oudshoorn, 2011) to conduct multiple imputation by chained
equations (mice). All other variables present in the dataset are used to
impute missing data in each column.</p>
<p>The user can specify the imputation method through the
<code>method</code> field drawing from the following list: “pmm”
(predictive mean matching), “midastouch” (weighted predictive mean
matching), “sample” (random sample from observed values), “rf” (random
forest) or “cart” (classification and regression trees). Random forest
imputation is the default given evidence for its efficiency and superior
performance (Shah et al., 2014). Please review the <em>mice</em>
documentation for more details.<br>
Additionally, users can specify an integer value to <code>seed</code> in
order to offset the random number generator in <em>mice()</em> and make
reproducible imputations.</p>
<p>The parameter <code>read_imps_from_file</code> will allow you to read
already imputed data in from local storage (TRUE) so as not to have to
re-run this imputation code multiple times (FALSE; default). Users may
use this parameter to supply their own mids object of imputed data from
the <em>mice</em> package (with the title ‘all_imp.rds’). Be sure to
inspect the console for any warnings as well as the resulting imputed
datasets. Any variables that have missing data following imputation may
need to be removed due to high collinearity and/or low variability.</p>
<p>The required inputs for this function are a data frame in wide format
(formatted according to pre-requirements listed above), m number of
imputed datasets to create, a path to the home directory (if
<code>save.out</code> = TRUE), exposure (e.g., “variable”), and outcome
(e.g., “variable.t”). The home directory path, exposure, and outcome
should already be defined if the user completed the
<a href="https://istallworthy.github.io/devMSMs/articles/Specify_Core_Inputs.html">Specifying
Core Inputs vignette</a>.</p>
<p>The optional inputs are as follows.</p>
<p>The user can specify an imputation method compatible with
<code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice()</a></code> (see above). Additionally, the user can specify in
<code>maxit</code> the number of interactions for
<code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice::mice()</a></code> to conduct (default is 5). The user can also
specify <code>para_proc</code>, a logical indicator indicating whether
or not to speed up imputing using parallel processing (default = TRUE).
This draws on 2 cores using functions from the <em>parallel</em>,
<em>doRNG</em>, and <em>doParallel</em> packages.</p>
<p>The user may also specify any additional inputs accepted by
<code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice::mice()</a></code> and we advise consulting the
<a href:="https://www.rdocumentation.org/packages/mice/versions/3.16.0/topics/mice"><span class="math display">\[*mice* documentation\]</span></a> for more
information.</p>
<p>The user can also indicate if they have already created imputed
datasets from this function and wish to read them in
(<code>read_imps_from_file = TRUE</code> rather than recreate them
(default).</p>
<p>For this example, we create 2 imputed datasets using the default
random forest method and 0 iterations (just for illustrative purposes),
set a seed for reproducibility, and assign the output to
<code>data</code> for use with <em>devMSMs</em>. This code takes some
time to run. (Note: given the challenges of imputing data from .rda
files, we have set <code>m</code> = 2 and <code>maxit</code> = 0 here
just for illustrative purposes. We recommend setting both <code>m</code>
= 5 and <code>maxit</code> = 5 (<em>mice</em> default) when running
data.)</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fl">1234</span></span>
<span></span>
<span><span class="va">m</span> <span class="op">&lt;-</span> <span class="fl">2</span></span>
<span></span>
<span><span class="va">method</span> <span class="op">&lt;-</span> <span class="st">"rf"</span></span>
<span></span>
<span><span class="va">maxit</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span></span>
<span><span class="va">imputed_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/devMSMsHelpers/man/imputeData.html" class="external-link">imputeData</a></span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="va">data_wide_f</span>, </span>
<span>  exposure <span class="op">=</span> <span class="va">exposure</span>, </span>
<span>  outcome <span class="op">=</span> <span class="va">outcome</span>,</span>
<span>  sep <span class="op">=</span> <span class="st">"\\."</span>,</span>
<span>  m <span class="op">=</span> <span class="va">m</span>, </span>
<span>  method <span class="op">=</span> <span class="va">method</span>, </span>
<span>  maxit <span class="op">=</span> <span class="va">maxit</span>, </span>
<span>  para_proc <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  seed <span class="op">=</span> <span class="va">s</span>, </span>
<span>  read_imps_from_file <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  home_dir <span class="op">=</span> <span class="va">home_dir</span>, </span>
<span>  save.out <span class="op">=</span> <span class="va">save.out</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Creating 2 imputed datasets using the rf imputation method in mice::mice(). This may take some time to run.</span></span>
<span><span class="co">#&gt; Warning: Number of logged events: 15</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; USER ALERT: Please view any logged events from the imputation below: </span></span>
<span><span class="co">#&gt; Table: Logged Events from mice::mice</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; | it| im|dep |meth     |out            |</span></span>
<span><span class="co">#&gt; |--:|--:|:---|:--------|:--------------|</span></span>
<span><span class="co">#&gt; |  0|  0|    |constant |B18Raw.15      |</span></span>
<span><span class="co">#&gt; |  0|  0|    |constant |B18Raw.24      |</span></span>
<span><span class="co">#&gt; |  0|  0|    |constant |B18Raw.58      |</span></span>
<span><span class="co">#&gt; |  0|  0|    |constant |B18Raw.6       |</span></span>
<span><span class="co">#&gt; |  0|  0|    |constant |caregiv_health |</span></span>
<span><span class="co">#&gt; |  0|  0|    |constant |EARS_TJo.24    |</span></span>
<span><span class="co">#&gt; |  0|  0|    |constant |EARS_TJo.35    |</span></span>
<span><span class="co">#&gt; |  0|  0|    |constant |gov_assist     |</span></span>
<span><span class="co">#&gt; |  0|  0|    |constant |KFASTScr       |</span></span>
<span><span class="co">#&gt; |  0|  0|    |constant |MDI.15         |</span></span>
<span><span class="co">#&gt; |  0|  0|    |constant |MDI.6          |</span></span>
<span><span class="co">#&gt; |  0|  0|    |constant |peri_health    |</span></span>
<span><span class="co">#&gt; |  0|  0|    |constant |PmEd2          |</span></span>
<span><span class="co">#&gt; |  0|  0|    |constant |RMomAgeU       |</span></span>
<span><span class="co">#&gt; |  0|  0|    |constant |SWghtLB        |</span></span></code></pre></div>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">mice</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/complete.html" class="external-link">complete</a></span><span class="op">(</span><span class="va">imputed_data</span>, <span class="fl">1</span><span class="op">)</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ALI_Le.35 B18Raw.15 B18Raw.24 B18Raw.58 B18Raw.6 BioDadInHH2 caregiv_health</span></span>
<span><span class="co">#&gt; 1         3        NA        NA        NA       NA           1             NA</span></span>
<span><span class="co">#&gt; 2         2        NA        NA        NA       NA           0             NA</span></span>
<span><span class="co">#&gt; 3         3        NA        NA        NA       NA           0             NA</span></span>
<span><span class="co">#&gt; 4         4        NA        NA        NA       NA           0             NA</span></span>
<span><span class="co">#&gt; 5         3        NA        NA        NA       NA           1             NA</span></span>
<span><span class="co">#&gt;   CORTB.15 CORTB.24 CORTB.6</span></span>
<span><span class="co">#&gt; 1   -0.227   -0.652   0.742</span></span>
<span><span class="co">#&gt; 2   -0.528   -0.204   0.018</span></span>
<span><span class="co">#&gt; 3    1.145    0.033  -0.379</span></span>
<span><span class="co">#&gt; 4    0.301   -0.501   0.000</span></span>
<span><span class="co">#&gt; 5   -0.247    0.084   0.153</span></span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">imputed_data</span></span>
<span></span>
<span><span class="co"># testing</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="va">imputed_data</span><span class="op">$</span><span class="va">m</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu">mice</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/complete.html" class="external-link">complete</a></span><span class="op">(</span><span class="va">imputed_data</span>, <span class="va">x</span><span class="op">)</span><span class="op">$</span><span class="va">SmokTot</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt;   0   1   2   3 </span></span>
<span><span class="co">#&gt; 644 455 172  21 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt;   0   1   2   3 </span></span>
<span><span class="co">#&gt; 645 454 172  21</span></span></code></pre></div>
<p>We inspect the output to the console for any warnings from
<code><a href="https://amices.org/mice/reference/mice.html" class="external-link">mice()</a></code>.</p>
<p>The mice object can now be assigned to <code>data</code> for use in
the <em>deveMSMs</em> package (see <em>Workflows</em> vignettes).</p>
<p><br></p>
</div>
<div class="section level4">
<h4 id="d3b--read-in-as-a-list-of-wide-imputed-data-saved-locally">D3b. Read in as a List of Wide Imputed Data Saved Locally<a class="anchor" aria-label="anchor" href="#d3b--read-in-as-a-list-of-wide-imputed-data-saved-locally"></a>
</h4>
<p>Alternatively, if a user has imputed datasets already created from
wide, formatted data using a program other than <em>mice</em>, they can
read in, as a list, files saved locally as .csv files in a single
folder. This list can be assigned to <code>data</code> for use in the
<em>deveMSMs</em> package (see <em>Workflows</em> vignettes).</p>
<p>Below, we load in a list of imputed data simulated from FLP, as an
example. (See the example Rmarkdown file for code to do this with files
saved locally.)</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"sim_data_imp_list"</span>, package <span class="op">=</span> <span class="st">"devMSMs"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">sim_data_imp_list</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">data</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   X ALI_Le.35 B18Raw.15 B18Raw.24 B18Raw.58 B18Raw.6 BioDadInHH2 caregiv_health</span></span>
<span><span class="co">#&gt; 1 1         3         1         1         7       16           1              3</span></span>
<span><span class="co">#&gt; 2 2         2         4        -7         7        0           0              0</span></span>
<span><span class="co">#&gt; 3 3         3         6         5        20       -1           0              3</span></span>
<span><span class="co">#&gt; 4 4         4        24        25        17       11           0              3</span></span>
<span><span class="co">#&gt; 5 5         3        -8        -9        17        1           1              2</span></span>
<span><span class="co">#&gt;   CORTB.15 CORTB.24</span></span>
<span><span class="co">#&gt; 1   -0.227   -0.652</span></span>
<span><span class="co">#&gt; 2    0.149    0.831</span></span>
<span><span class="co">#&gt; 3    1.145    0.033</span></span>
<span><span class="co">#&gt; 4    0.301   -0.501</span></span>
<span><span class="co">#&gt; 5   -0.247    0.084</span></span></code></pre></div>
<p><br><br></p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Burchinal, M., Howes, C., Pianta, R., Bryant, D., Early, D.,
Clifford, R., &amp; Barbarin, O. (2008). Predicting Child Outcomes at
the End of Kindergarten from the Quality of Pre-Kindergarten
Teacher–Child Interactions and Instruction. Applied Developmental
Science, 12(3), 140–153. <a href="https://doi.org/10.1080/10888690802199418" class="external-link uri">https://doi.org/10.1080/10888690802199418</a></p>
<p>Kainz, K., Greifer, N., Givens, A., Swietek, K., Lombardi, B. M.,
Zietz, S., &amp; Kohn, J. L. (2017). Improving Causal Inference:
Recommendations for Covariate Selection and Balance in Propensity Score
Methods. Journal of the Society for Social Work and Research, 8(2),
279–303. <a href="https://doi.org/10.1086/691464" class="external-link uri">https://doi.org/10.1086/691464</a></p>
<p>Vernon-Feagans, L., Cox, M., Willoughby, M., Burchinal, M.,
Garrett-Peters, P., Mills-Koonce, R., Garrett-Peiers, P., Conger, R. D.,
&amp; Bauer, P. J. (2013). The Family Life Project: An Epidemiological
and Developmental Study of Young Children Living in Poor Rural
Communities. Monographs of the Society for Research in Child
Development, 78(5), i–150.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Isabella Stallworthy, Noah Greifer, Meriah DeJoseph, Emily Padrutt, Daniel Berry.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
