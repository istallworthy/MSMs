<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Estimate, compare, and visualize exposure histories — compareHistories • devMSMs</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Estimate, compare, and visualize exposure histories — compareHistories"><meta name="description" content="Takes fitted model output to created predicted values for user-specified
histories (pooling for imputed data), before conducting contrast comparisons
(pooling for imputed data), correcting for multiple comparisons, and then
plotting results."><meta property="og:description" content="Takes fitted model output to created predicted values for user-specified
histories (pooling for imputed data), before conducting contrast comparisons
(pooling for imputed data), correcting for multiple comparisons, and then
plotting results."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">devMSMs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9001</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/Assessing_Balance_Tv.html">Assessing Balance for Time-Varying Exposures</a></li>
    <li><a class="dropdown-item" href="../articles/Customizing_Balancing_Formulas.html">Customizing Weights Formulas</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/istallworthy/devMSMs/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Estimate, compare, and visualize exposure histories</h1>
      <small class="dont-index">Source: <a href="https://github.com/istallworthy/devMSMs/blob/main/R/compareHistories.R" class="external-link"><code>R/compareHistories.R</code></a></small>
      <div class="d-none name"><code>compareHistories.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Takes fitted model output to created predicted values for user-specified
histories (pooling for imputed data), before conducting contrast comparisons
(pooling for imputed data), correcting for multiple comparisons, and then
plotting results.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compareHistories</span><span class="op">(</span></span>
<span>  <span class="va">fit</span>,</span>
<span>  <span class="va">hi_lo_cut</span>,</span>
<span>  dose_level <span class="op">=</span> <span class="st">"h"</span>,</span>
<span>  reference <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  comparison <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mc_comp_method <span class="op">=</span> <span class="st">"BH"</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  save.out <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'devMSM_comparisons'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span>, save.out <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'devMSM_comparisons'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  colors <span class="op">=</span> <span class="st">"Dark2"</span>,</span>
<span>  exp_lab <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  out_lab <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  save.out <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for class 'devMSM_comparisons'</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">object</span>, type <span class="op">=</span> <span class="st">"comps"</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-fit">fit<a class="anchor" aria-label="anchor" href="#arg-fit"></a></dt>
<dd><p>list of model outputs from <code><a href="fitModel.html">fitModel()</a></code></p></dd>


<dt id="arg-hi-lo-cut">hi_lo_cut<a class="anchor" aria-label="anchor" href="#arg-hi-lo-cut"></a></dt>
<dd><p>list of two numbers indicating quantile values
that reflect high and low values, respectively, for continuous exposure</p></dd>


<dt id="arg-dose-level">dose_level<a class="anchor" aria-label="anchor" href="#arg-dose-level"></a></dt>
<dd><p>(optional) "l" or "h" indicating whether low or high doses
should be tallied in tables and plots (default is high "h")</p></dd>


<dt id="arg-reference">reference<a class="anchor" aria-label="anchor" href="#arg-reference"></a></dt>
<dd><p>lists of one or more strings of "-"-separated "l"
and "h" values indicative of a reference exposure history to which to
compare comparison, required if comparison is supplied</p></dd>


<dt id="arg-comparison">comparison<a class="anchor" aria-label="anchor" href="#arg-comparison"></a></dt>
<dd><p>(optional) list of one or more strings of "-"-separated "l"
and "h" values indicative of comparison history/histories to compare to
reference, required if reference is supplied</p></dd>


<dt id="arg-mc-comp-method">mc_comp_method<a class="anchor" aria-label="anchor" href="#arg-mc-comp-method"></a></dt>
<dd><p>(optional) character abbreviation for multiple
comparison correction method for stats::p.adjust, default is
Benjamini-Hochburg ("BH")</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>(optional) TRUE or FALSE indicator for printing output to console.
default is FALSE.</p></dd>


<dt id="arg-save-out">save.out<a class="anchor" aria-label="anchor" href="#arg-save-out"></a></dt>
<dd><p>(optional) Either logical or a character string. If <code>TRUE</code>,
it will output the result to a default file name within <code>home_dir</code> set in <code><a href="initMSM.html">initMSM()</a></code>. You can load the data with <code>x &lt;- readRDS(file)</code>.
To use a non-default file name, specify a character string with the file name. It will save relative to <code>home_dir</code>.
There might be naming conflicts where two objects get saved to the same file. In these cases, users should specify a custom name.
default is FALSE.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>devMSM_histories object from <code>compareHistories()</code></p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>ignored</p></dd>


<dt id="arg-colors">colors<a class="anchor" aria-label="anchor" href="#arg-colors"></a></dt>
<dd><p>(optional) character specifying Brewer palette or list of
colors (n(epochs)+1) for plotting (default is "Dark2" palette)</p></dd>


<dt id="arg-exp-lab">exp_lab<a class="anchor" aria-label="anchor" href="#arg-exp-lab"></a></dt>
<dd><p>(optional) character label for exposure variable in plots
(default is variable name)</p></dd>


<dt id="arg-out-lab">out_lab<a class="anchor" aria-label="anchor" href="#arg-out-lab"></a></dt>
<dd><p>(optional) character label for outcome variable in plots
(default is variable name)</p></dd>


<dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>devMSM_histories object from <code>compareHistories()</code></p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>Either "preds" or "comps" corresponding to the
results of <code><a href="https://marginaleffects.com/man/predictions.html" class="external-link">marginaleffects::avg_predictions()</a></code> at low and high dosages or
<code><a href="https://marginaleffects.com/man/comparisons.html" class="external-link">marginaleffects::avg_comparisons()</a></code> respectively</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>list containing two dataframes: <code>preds</code> with predictions from
<code><a href="https://marginaleffects.com/man/predictions.html" class="external-link">marginaleffects::avg_predictions()</a></code> containing average expected outcome
for different exposure histories and <code>comps</code> with contrasts from
<code><a href="https://marginaleffects.com/man/comparisons.html" class="external-link">marginaleffects::comparisons()</a></code> comparing different exposure history</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://marginaleffects.com/man/predictions.html" class="external-link">marginaleffects::avg_predictions()</a></code>,
<a href="https://cran.r-project.org/web/packages/marginaleffects/marginaleffects.pdf" class="external-link">https://cran.r-project.org/web/packages/marginaleffects/marginaleffects.pdf</a>;
<code><a href="https://marginaleffects.com/man/hypotheses.html" class="external-link">marginaleffects::hypotheses()</a></code>,
<a href="https://cran.r-project.org/web/packages/marginaleffects/marginaleffects.pdf" class="external-link">https://cran.r-project.org/web/packages/marginaleffects/marginaleffects.pdf</a>;
<code><a href="https://rdrr.io/r/stats/p.adjust.html" class="external-link">stats::p.adjust()</a></code>,
<a href="https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/p.adjust" class="external-link">https://www.rdocumentation.org/packages/stats/versions/3.6.2/topics/p.adjust</a>;</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://istallworthy.github.io/devMSMs/">devMSMs</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  ID <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">50</span>,</span></span>
<span class="r-in"><span>  A.1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  A.2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  A.3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  B.1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  B.2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  B.3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  C <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  D.3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">50</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">obj</span> <span class="op">&lt;-</span> <span class="fu"><a href="initMSM.html">initMSM</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">data</span>,</span></span>
<span class="r-in"><span>  exposure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"A.1"</span>, <span class="st">"A.2"</span>, <span class="st">"A.3"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  ti_conf <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"C"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  tv_conf <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"B.1"</span>, <span class="st">"B.2"</span>, <span class="st">"B.3"</span>, <span class="st">"D.3"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">f</span> <span class="op">&lt;-</span> <span class="fu"><a href="createFormulas.html">createFormulas</a></span><span class="op">(</span><span class="va">obj</span>, type <span class="op">=</span> <span class="st">"short"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu"><a href="createWeights.html">createWeights</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">data</span>, formulas <span class="op">=</span> <span class="va">f</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fit</span> <span class="op">&lt;-</span> <span class="fu"><a href="fitModel.html">fitModel</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">data</span>, weights <span class="op">=</span> <span class="va">w</span>,</span></span>
<span class="r-in"><span>  outcome <span class="op">=</span> <span class="st">"D.3"</span>, model <span class="op">=</span> <span class="st">"m0"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">comp</span> <span class="op">&lt;-</span> <span class="fu">compareHistories</span><span class="op">(</span></span></span>
<span class="r-in"><span>  fit <span class="op">=</span> <span class="va">fit</span>,</span></span>
<span class="r-in"><span>  hi_lo_cut <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.6</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">comp</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Summary of Exposure Main Effects:</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> USER ALERT: Out of the total of 50 individuals in the sample, below is the distribution of the 50 (100%) individuals that fall into 24 user-selected exposure histories (out of the 24 total) created from 30th and 60th percentile values for low and high levels of exposure-epoch A.1, A.2, A.3. </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> USER ALERT: Please inspect the distribution of the sample across the following exposure histories and ensure there is sufficient spread to avoid extrapolation and low precision:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | epoch_history | n |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +===============+===+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | NA-NA-h       | 2 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | NA-NA-l       | 1 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | NA-h-NA       | 2 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | NA-h-h        | 3 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | NA-h-l        | 2 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | NA-l-NA       | 1 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | NA-l-h        | 2 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | NA-l-l        | 2 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-NA-NA       | 2 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-NA-h        | 4 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-NA-l        | 1 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-h-NA        | 2 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-h-h         | 3 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-h-l         | 3 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-l-NA        | 1 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-l-h         | 2 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-l-l         | 2 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | l-NA-NA       | 3 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | l-NA-l        | 2 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | l-h-NA        | 2 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | l-h-h         | 1 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | l-h-l         | 2 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | l-l-NA        | 2 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | l-l-h         | 3 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Table: Summary of user-selected exposure histories based on exposure main effects A.1, A.2, A.3: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Below are the pooled average predictions by user-specified history:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------+-------+-------+--------+----------+-----------+----------+-----------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | term  | A.1   | A.2   | A.3    | estimate | std.error | conf.low | conf.high |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +=======+=======+=======+========+==========+===========+==========+===========+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | l-l-l | -0.47 | -0.3  | -0.804 | -0.15    | 0.2       | -0.54    | 0.239     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------+-------+-------+--------+----------+-----------+----------+-----------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | l-l-h | -0.47 | -0.3  | -0.051 | -0.064   | 0.2       | -0.47    | 0.338     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------+-------+-------+--------+----------+-----------+----------+-----------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | l-h-l | -0.47 |  0.31 | -0.804 | -0.093   | 0.18      | -0.44    | 0.25      |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------+-------+-------+--------+----------+-----------+----------+-----------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | l-h-h | -0.47 |  0.31 | -0.051 | -0.007   | 0.19      | -0.37    | 0.357     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------+-------+-------+--------+----------+-----------+----------+-----------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-l-l |  0.24 | -0.3  | -0.804 | -0.235   | 0.15      | -0.53    | 0.059     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------+-------+-------+--------+----------+-----------+----------+-----------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-l-h |  0.24 | -0.3  | -0.051 | -0.149   | 0.15      | -0.45    | 0.154     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------+-------+-------+--------+----------+-----------+----------+-----------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-h-l |  0.24 |  0.31 | -0.804 | -0.179   | 0.13      | -0.43    | 0.07      |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------+-------+-------+--------+----------+-----------+----------+-----------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-h-h |  0.24 |  0.31 | -0.051 | -0.093   | 0.14      | -0.36    | 0.176     |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------+-------+-------+--------+----------+-----------+----------+-----------+ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Conducting multiple comparison correction for all pairings between comparison histories and each refernece history using the BH method. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | term              | estimate      | std.error  | p.value   | conf.low    | conf.high  | p.value_corr |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +===================+===============+============+===========+=============+============+==============+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-l-l) - (l-l-h) | -0.0860245895 | 0.09323351 | 0.3561746 | -0.26875891 | 0.09670973 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-l-l) - (l-h-l) | -0.0567671468 | 0.06804542 | 0.4041380 | -0.19013372 | 0.07659943 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-l-l) - (l-h-h) | -0.1427917364 | 0.12113186 | 0.2384729 | -0.38020583 | 0.09462235 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-l-l) - (h-l-l) |  0.0855518211 | 0.09515347 | 0.3686031 | -0.10094556 | 0.27204920 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-l-l) - (h-l-h) | -0.0004727684 | 0.12853504 | 0.9970653 | -0.25239681 | 0.25145127 | 0.9970653    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-l-l) - (h-h-l) |  0.0287846743 | 0.12605827 | 0.8193787 | -0.21828499 | 0.27585434 | 0.8824078    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-l-l) - (h-h-h) | -0.0572399153 | 0.15718786 | 0.7157462 | -0.36532245 | 0.25084262 | 0.8824078    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-l-h) - (l-h-l) |  0.0292574427 | 0.10941845 | 0.7891686 | -0.18519878 | 0.24371366 | 0.8824078    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-l-h) - (l-h-h) | -0.0567671468 | 0.06804540 | 0.4041379 | -0.19013369 | 0.07659939 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-l-h) - (h-l-l) |  0.1715764106 | 0.13773921 | 0.2128887 | -0.09838748 | 0.44154030 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-l-h) - (h-l-h) |  0.0855518211 | 0.09515351 | 0.3686033 | -0.10094562 | 0.27204927 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-l-h) - (h-h-l) |  0.1148092638 | 0.15639156 | 0.4628791 | -0.19171256 | 0.42133108 | 0.6480308    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-l-h) - (h-h-h) |  0.0287846743 | 0.12605825 | 0.8193786 | -0.21828496 | 0.27585431 | 0.8824078    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-h-l) - (l-h-h) | -0.0860245895 | 0.09323348 | 0.3561744 | -0.26875886 | 0.09670968 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-h-l) - (h-l-l) |  0.1423189679 | 0.10713569 | 0.1840462 | -0.06766312 | 0.35230106 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-h-l) - (h-l-h) |  0.0562943784 | 0.13264560 | 0.6712764 | -0.20368622 | 0.31627498 | 0.8824078    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-h-l) - (h-h-l) |  0.0855518211 | 0.09515354 | 0.3686034 | -0.10094568 | 0.27204932 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-h-l) - (h-h-h) | -0.0004727684 | 0.12853506 | 0.9970653 | -0.25239686 | 0.25145133 | 0.9970653    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-h-h) - (h-l-l) |  0.2283435575 | 0.15081852 | 0.1300186 | -0.06725530 | 0.52394242 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-h-h) - (h-l-h) |  0.1423189679 | 0.10713569 | 0.1840463 | -0.06766313 | 0.35230107 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-h-h) - (h-h-l) |  0.1715764106 | 0.13773922 | 0.2128888 | -0.09838750 | 0.44154032 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (l-h-h) - (h-h-h) |  0.0855518211 | 0.09515352 | 0.3686034 | -0.10094565 | 0.27204929 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (h-l-l) - (h-l-h) | -0.0860245895 | 0.09323350 | 0.3561745 | -0.26875889 | 0.09670971 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (h-l-l) - (h-h-l) | -0.0567671468 | 0.06804546 | 0.4041383 | -0.19013380 | 0.07659951 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (h-l-l) - (h-h-h) | -0.1427917364 | 0.12113192 | 0.2384731 | -0.38020594 | 0.09462247 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (h-l-h) - (h-h-l) |  0.0292574427 | 0.10941843 | 0.7891686 | -0.18519874 | 0.24371362 | 0.8824078    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (h-l-h) - (h-h-h) | -0.0567671468 | 0.06804543 | 0.4041381 | -0.19013374 | 0.07659945 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (h-h-l) - (h-h-h) | -0.0860245895 | 0.09323350 | 0.3561745 | -0.26875888 | 0.09670970 | 0.5955722    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+---------------+------------+-----------+-------------+------------+--------------+ </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">comp</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="compareHistories-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">comp</span>, <span class="st">"preds"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    term        A.1        A.2         A.3     estimate std.error   statistic</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 l-l-l -0.4684962 -0.2971206 -0.80434443 -0.149799589 0.1983536 -0.75521501</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 l-l-h -0.4684962 -0.2971206 -0.05134827 -0.063774999 0.2048054 -0.31139320</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 l-h-l -0.4684962  0.3148300 -0.80434443 -0.093032442 0.1750306 -0.53152099</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 l-h-h -0.4684962  0.3148300 -0.05134827 -0.007007852 0.1859760 -0.03768148</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 h-l-l  0.2359494 -0.2971206 -0.80434443 -0.235351410 0.1502513 -1.56638563</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 h-l-h  0.2359494 -0.2971206 -0.05134827 -0.149326820 0.1547615 -0.96488363</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 h-h-l  0.2359494  0.3148300 -0.80434443 -0.178584263 0.1267806 -1.40860879</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 h-h-h  0.2359494  0.3148300 -0.05134827 -0.092559673 0.1371105 -0.67507375</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     p.value    s.value   conf.low  conf.high dose</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.4501200 1.15161848 -0.5385654 0.23896625    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 0.7555017 0.40449305 -0.4651861 0.33763614    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3 0.5950578 0.74889829 -0.4360861 0.25002124    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4 0.9699416 0.04403015 -0.3715142 0.35749845    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5 0.1172584 3.09223725 -0.5298385 0.05913564    1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6 0.3346031 1.57947727 -0.4526538 0.15400011    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 0.1589509 2.65334711 -0.4270697 0.06990114    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 0.4996289 1.00107114 -0.3612912 0.17617189    3</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">comp</span>, <span class="st">"comps"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 term      estimate  std.error    statistic   p.value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  (l-l-l) - (l-l-h) -0.0860245895 0.09323351 -0.922678895 0.3561746</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  (l-l-l) - (l-h-l) -0.0567671468 0.06804542 -0.834253748 0.4041380</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  (l-l-l) - (l-h-h) -0.1427917364 0.12113186 -1.178812343 0.2384729</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  (l-l-l) - (h-l-l)  0.0855518211 0.09515347  0.899092985 0.3686031</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  (l-l-l) - (h-l-h) -0.0004727684 0.12853504 -0.003678129 0.9970653</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  (l-l-l) - (h-h-l)  0.0287846743 0.12605827  0.228344197 0.8193787</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  (l-l-l) - (h-h-h) -0.0572399153 0.15718786 -0.364149728 0.7157462</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  (l-l-h) - (l-h-l)  0.0292574427 0.10941845  0.267390396 0.7891686</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  (l-l-h) - (l-h-h) -0.0567671468 0.06804540 -0.834253950 0.4041379</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 (l-l-h) - (h-l-l)  0.1715764106 0.13773921  1.245661352 0.2128887</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 (l-l-h) - (h-l-h)  0.0855518211 0.09515351  0.899092683 0.3686033</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 (l-l-h) - (h-h-l)  0.1148092638 0.15639156  0.734114205 0.4628791</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 (l-l-h) - (h-h-h)  0.0287846743 0.12605825  0.228344230 0.8193786</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 (l-h-l) - (l-h-h) -0.0860245895 0.09323348 -0.922679121 0.3561744</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 (l-h-l) - (h-l-l)  0.1423189679 0.10713569  1.328399262 0.1840462</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 (l-h-l) - (h-l-h)  0.0562943784 0.13264560  0.424396874 0.6712764</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 (l-h-l) - (h-h-l)  0.0855518211 0.09515354  0.899092410 0.3686034</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18 (l-h-l) - (h-h-h) -0.0004727684 0.12853506 -0.003678128 0.9970653</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 (l-h-h) - (h-l-l)  0.2283435575 0.15081852  1.514028672 0.1300186</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 (l-h-h) - (h-l-h)  0.1423189679 0.10713569  1.328399184 0.1840463</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 (l-h-h) - (h-h-l)  0.1715764106 0.13773922  1.245661276 0.2128888</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 (l-h-h) - (h-h-h)  0.0855518211 0.09515352  0.899092564 0.3686034</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 (h-l-l) - (h-l-h) -0.0860245895 0.09323350 -0.922678981 0.3561745</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 (h-l-l) - (h-h-l) -0.0567671468 0.06804546 -0.834253253 0.4041383</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 (h-l-l) - (h-h-h) -0.1427917364 0.12113192 -1.178811770 0.2384731</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 (h-l-h) - (h-h-l)  0.0292574427 0.10941843  0.267390449 0.7891686</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 (h-l-h) - (h-h-h) -0.0567671468 0.06804543 -0.834253622 0.4041381</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28 (h-h-l) - (h-h-h) -0.0860245895 0.09323350 -0.922679011 0.3561745</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>        s.value    conf.low  conf.high  dose p.value_corr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1  1.489343589 -0.26875891 0.09670973 0 - 1    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2  1.307080051 -0.19013372 0.07659943 0 - 1    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3  2.068102717 -0.38020583 0.09462235 0 - 2    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4  1.439859757 -0.10094556 0.27204920 0 - 1    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5  0.004240125 -0.25239681 0.25145127 0 - 2    0.9970653</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6  0.287397761 -0.21828499 0.27585434 0 - 2    0.8824078</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7  0.482479980 -0.36532245 0.25084262 0 - 3    0.8824078</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8  0.341594553 -0.18519878 0.24371366 1 - 1    0.8824078</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9  1.307080457 -0.19013369 0.07659939 1 - 2    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10 2.231828396 -0.09838748 0.44154030 1 - 1    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11 1.439859126 -0.10094562 0.27204927 1 - 2    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12 1.111292558 -0.19171256 0.42133108 1 - 2    0.6480308</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13 0.287397807 -0.21828496 0.27585431 1 - 3    0.8824078</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14 1.489344066 -0.26875886 0.09670968 1 - 2    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 2.441859794 -0.06766312 0.35230106 1 - 1    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16 0.575021172 -0.20368622 0.31627498 1 - 2    0.8824078</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17 1.439858557 -0.10094568 0.27204932 1 - 2    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18 0.004240124 -0.25239686 0.25145133 1 - 3    0.9970653</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19 2.943210429 -0.06725530 0.52394242 2 - 1    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20 2.441859592 -0.06766313 0.35230107 2 - 2    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21 2.231828206 -0.09838750 0.44154032 2 - 2    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 1.439858879 -0.10094565 0.27204929 2 - 3    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23 1.489343772 -0.26875889 0.09670971 1 - 2    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24 1.307079055 -0.19013380 0.07659951 1 - 2    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25 2.068101336 -0.38020594 0.09462247 1 - 3    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26 0.341594628 -0.18519874 0.24371362 2 - 2    0.8824078</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27 1.307079797 -0.19013374 0.07659945 2 - 3    0.5955722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28 1.489343836 -0.26875888 0.09670970 2 - 3    0.5955722</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">comp2</span> <span class="op">&lt;-</span> <span class="fu">compareHistories</span><span class="op">(</span></span></span>
<span class="r-in"><span>  fit <span class="op">=</span> <span class="va">fit</span>,</span></span>
<span class="r-in"><span>  hi_lo_cut <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.6</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  reference <span class="op">=</span> <span class="st">"l-l-l"</span>,</span></span>
<span class="r-in"><span>  comparison <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"h-h-h"</span>, <span class="st">"h-h-l"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">comp2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Summary of Exposure Main Effects:</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>There are no participants in your sample in the following histories: l-l-l. </span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span>                    Please revise your reference/comparison histories and/or the high/low cutoffs, if applicable.</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> USER ALERT: Out of the total of 50 individuals in the sample, below is the distribution of the 6 (12%) individuals that fall into 2 user-selected exposure histories (out of the 24 total) created from 30th and 60th percentile values for low and high levels of exposure-epoch A.1, A.2, A.3. </span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> USER ALERT: Please inspect the distribution of the sample across the following exposure histories and ensure there is sufficient spread to avoid extrapolation and low precision:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | epoch_history | n |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +===============+===+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-h-h         | 3 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-h-l         | 3 |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +---------------+---+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Table: Summary of user-selected exposure histories based on exposure main effects A.1, A.2, A.3: </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Below are the pooled average predictions by user-specified history:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------+-------+-------+--------+----------+-----------+----------+-----------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | term  | A.1   | A.2   | A.3    | estimate | std.error | conf.low | conf.high |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +=======+=======+=======+========+==========+===========+==========+===========+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | l-l-l | -0.47 | -0.3  | -0.804 | -0.15    | 0.2       | -0.54    | 0.24      |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------+-------+-------+--------+----------+-----------+----------+-----------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-h-l |  0.24 |  0.31 | -0.804 | -0.179   | 0.13      | -0.43    | 0.07      |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------+-------+-------+--------+----------+-----------+----------+-----------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | h-h-h |  0.24 |  0.31 | -0.051 | -0.093   | 0.14      | -0.36    | 0.18      |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------+-------+-------+--------+----------+-----------+----------+-----------+ </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Conducting multiple comparison correction for all pairings between comparison histories and each refernece history using the BH method. </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+-------------+-----------+-----------+------------+-----------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | term              | estimate    | std.error | p.value   | conf.low   | conf.high | p.value_corr |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +===================+=============+===========+===========+============+===========+==============+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (h-h-h) - (l-l-l) |  0.05723992 | 0.1571879 | 0.7157462 | -0.2508426 | 0.3653225 | 0.8193787    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+-------------+-----------+-----------+------------+-----------+--------------+</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> | (h-h-l) - (l-l-l) | -0.02878467 | 0.1260583 | 0.8193787 | -0.2758543 | 0.2182850 | 0.8193787    |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> +-------------------+-------------+-----------+-----------+------------+-----------+--------------+ </span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">comp2</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="compareHistories-2.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">comp2</span>, <span class="st">"preds"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    term        A.1        A.2         A.3    estimate std.error  statistic</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 l-l-l -0.4684962 -0.2971206 -0.80434443 -0.14979959 0.1983536 -0.7552150</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 h-h-l  0.2359494  0.3148300 -0.80434443 -0.17858426 0.1267806 -1.4086088</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 h-h-h  0.2359494  0.3148300 -0.05134827 -0.09255967 0.1371105 -0.6750738</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     p.value  s.value   conf.low  conf.high dose</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 0.4501200 1.151618 -0.5385654 0.23896625    0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7 0.1589509 2.653347 -0.4270697 0.06990114    2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8 0.4996289 1.001071 -0.3612912 0.17617189    3</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">comp2</span>, <span class="st">"comps"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                term    estimate std.error  statistic   p.value   s.value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 (h-h-h) - (l-l-l)  0.05723992 0.1571879  0.3641497 0.7157462 0.4824800</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 (h-h-l) - (l-l-l) -0.02878467 0.1260583 -0.2283442 0.8193787 0.2873978</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     conf.low conf.high  dose p.value_corr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1 -0.2508426 0.3653225 3 - 0    0.8193787</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2 -0.2758543 0.2182850 2 - 0    0.8193787</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Isabella Stallworthy, Noah Greifer, Meriah DeJoseph, Emily Padrutt, Daniel Berry.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

